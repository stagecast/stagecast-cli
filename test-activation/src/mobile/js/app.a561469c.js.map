{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/EmptyLeaderboard.vue?5b79","webpack:///./src/assets/icons/white/empty.svg","webpack:///./src/components/Countdown.vue?f49b","webpack:///./src/App.vue?1fdf","webpack:///./src/components/IntroPage.vue?8e67","webpack:///./src/components/IntroBox.vue?6a8c","webpack:///./src/utils.js","webpack:///src/components/IntroBox.vue","webpack:///./src/components/IntroBox.vue?70f6","webpack:///./src/components/IntroBox.vue?988b","webpack:///src/components/IntroPage.vue","webpack:///./src/components/IntroPage.vue?fc17","webpack:///./src/components/IntroPage.vue","webpack:///./src/components/GamePage.vue?5c02","webpack:///./src/components/GameBox.vue?9733","webpack:///./src/components/Game.vue?10e2","webpack:///src/components/Game.vue","webpack:///./src/components/Game.vue?92d9","webpack:///./src/components/Game.vue?afaa","webpack:///src/components/GameBox.vue","webpack:///./src/components/GameBox.vue?84c9","webpack:///./src/components/GameBox.vue?500a","webpack:///src/components/GamePage.vue","webpack:///./src/components/GamePage.vue?e575","webpack:///./src/components/GamePage.vue","webpack:///./src/components/SummaryPage.vue?d86a","webpack:///./src/components/Countdown.vue?76e1","webpack:///src/components/Countdown.vue","webpack:///./src/components/Countdown.vue?06c2","webpack:///./src/components/Countdown.vue?40b7","webpack:///./src/components/GlobalLeaderboard.vue?257b","webpack:///./src/components/LeaderboardRenderer.vue?ccfd","webpack:///./src/components/LeaderboardRowRenderer.vue?5290","webpack:///src/components/LeaderboardRowRenderer.vue","webpack:///./src/components/LeaderboardRowRenderer.vue?012e","webpack:///./src/components/LeaderboardRowRenderer.vue?f15e","webpack:///src/components/LeaderboardRenderer.vue","webpack:///./src/components/LeaderboardRenderer.vue?d414","webpack:///./src/components/LeaderboardRenderer.vue?e13b","webpack:///./src/components/Paginator.vue?5d04","webpack:///src/components/Paginator.vue","webpack:///./src/components/Paginator.vue?fceb","webpack:///./src/components/Paginator.vue?04d4","webpack:///./src/global.js","webpack:///src/components/GlobalLeaderboard.vue","webpack:///./src/components/GlobalLeaderboard.vue?8f43","webpack:///./src/components/GlobalLeaderboard.vue?ce49","webpack:///./src/components/EmptyLeaderboard.vue?643d","webpack:///src/components/EmptyLeaderboard.vue","webpack:///./src/components/EmptyLeaderboard.vue?053f","webpack:///./src/components/EmptyLeaderboard.vue","webpack:///./src/quest-handler.js","webpack:///src/components/SummaryPage.vue","webpack:///./src/components/SummaryPage.vue?aa75","webpack:///./src/components/SummaryPage.vue?bf18","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/i18n/index.js","webpack:///./src/main.js","webpack:///./src/components/LeaderboardRowRenderer.vue?6101","webpack:///./src/App.vue?c650","webpack:///./src/assets/empty.svg","webpack:///./src/assets/icons/white/empty-friend.svg","webpack:///./src/assets/icons/black/empty.svg","webpack:///./src/assets/icons/black/empty-friend.svg","webpack:///./src/components/IntroPage.vue?8a43","webpack:///./src/components/GameBox.vue?a0c6","webpack:///./src/components/Game.vue?2233","webpack:///./src/components/GlobalLeaderboard.vue?3c83","webpack:///./src/components/GamePage.vue?d1ed","webpack:///./src/components/IntroBox.vue?f5be","webpack:///./src/components/Paginator.vue?f7eb","webpack:///./src/components/SummaryPage.vue?1973","webpack:///./src/assets/icons/black/preloader.svg","webpack:///./src/components/LeaderboardRenderer.vue?dd27"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","style","attrs","view","loading","_e","directives","rawName","playing","expression","ref","appState","prize","$t","shareUrl","getHelpOptions","profile","getPrizeOptions","on","$event","handlePrizeClaim","cta","createdTimestamp","staticStyle","isPageVisible","handleProfileCreate","custom","quest","handleGameOver","enableLeaderboard","sponsors","staticRenderFns","handleProfileUpdate","_v","_s","maxLen","domProps","target","composing","onInputChange","charsLeft","isDisabled","submitName","isIterableArray","array","Array","isArray","coerceStringProperty","element","setPageAttributes","keys","forEach","document","documentElement","setAttribute","retry","promise","attempts","counter","catch","err","console","warn","Promise","reject","generateCode","len","padLeft","Math","round","random","parseInt","diff","String","res","debounce","fn","delay","timeoutId","clearTimeout","args","arguments","self","setTimeout","shortenLongNumber","num","SI_SYMBOL","tier","log10","suffix","scale","pow","scaled","toFixed","setAppLanguage","lang","vm","$i18n","locale","SharedFunctions","sponsor","showSponsor","logos","hasSponsors","showCta","outCta","ctaEnabled","assign","$SDK","activation","activeChangeTs","headerImg","branding","outBranding","backgroundImage","onboardingHeaderImage","backgroundColor","theme","status","script","createElement","src","id","body","appendChild","components","props","type","default","code","minLen","computed","watch","u","split","methods","$emit","component","gameOver","getUserName","getUserCode","class","gold","goldenPoints","green","currentScore","toLocaleString","updateScore","timeLeft","instructions","hidden","showMolesBoard","_l","mole","index","refInFor","shown","active","golden","options","gameButtonImage","showPoints","scoreUpdate","gameIsOver","duration","endTime","undefined","scoreBoost","roundScore","click","moles","totalClicks","interval","timePassed","moleGeneration","goldenMoleGeneration","timeRemaining","now","clearInterval","seconds","minutes","moleGenTime","moleTimeout","timePercent","beforeDestroy","removeEventListener","setMoleBoardHeight","startGame","Date","getTime","checkBoardWidth","addMoleListeners","generateMoles","startGameTimer","startGeneratingGoldenMoles","resetMoles","$refs","moleButton","el","addEventListener","moleContainer","height","width","$set","moleId","base","timeouts","removeMole","setInterval","generateGoldenMoles","removeGoldenMole","mounted","game","newScore","update","challenge","getChallenge","respondToChallenge","hash","finalScore","points","getRoundPoints","getBestScore","getUserPosition","$root","blink","animateCountdown","maxSeries","getSeriesNumber","autoStart","handleCountdownEnd","getCountdownDescription","handleUserScoreUpdate","hasLeaderboard","timeString","over","endTimestamp","endtime","required","Number","start","val","stop","checkTime","timeFormat","hours","days","currentSeriesNumber","handleHistoryNavigation","scopedSlots","_u","activeSeries","proxy","getLeaderboard","username","board","leaderboardUser","latest","selected","friends","isOddRow","scorer","position","getScorerName","getScorerCode","bestScore","isCurrentUser","currentUserName","created","Boolean","leaderboard","getAttribute","canGoBack","goBack","_t","canGoForward","dnone","slotPassed","goForward","currentIndex","$slots","menuoption","Vue","observable","activationConfig","questHandler","prizeHandler","error","errorMessage","generalConfig","leaderboardRefreshRate","leaderboardDelay","replayTimeLimit","pauseRefreshAfterSeries","delayNewSeriesStart","ctaDisplayTimeout","setAppError","message","errorType","liveLeaderboard","leaderboardHistory","offset","limit","fetchUpdates","startRefresh","pauseTimeout","leaderboardInterval","stopRefresh","fetchHistory","timeout","pauseRefresh","clean","getTopScores","seriesId","WIN_CRITERIA","ENOUGH_POINTS","TOP_RANKING","QuestHandler","startTime","_initSeries","randomizeAnswers","seriesOverHandler","getSeriesLeft","currentSeriesEndTs","Infinity","isCurrentSeriesActive","timeLimit","maxRoundsPerSeries","currentRound","getSeriesTimeLeft","QuestFunctions","getChallengeIndexes","challengesCount","challengesPerRound","_getSeriesEndTs","_getSeriesNumber","currentSeriesActive","seriesTimeLeft","getQuestSeriesEnd","getQuestSeriesNumber","handler","PrizeHandler","thresholdScore","enoughPoints","enoughPointsPercentage","$tc","winnersPerRound","prizeAvailabilityLimit","userProfile","prizes","count","getRandomChallenges","getAllChallenges","indexes","arr","arrIndex","floor","seriesCount","seriesDuration","numberOfSeries","ceil","min","canReplay","isWinner","userPosition","totalParticipants","showQuizControls","$on","newSeriesStarted","replayInterval","updateCanReplay","startCountdown","isPrizeOnReachScore","refreshUserProfile","resolve","$off","prepareUserForNewSeries","prepareLeaderboardForNewSeries","animateCountdownOver","getUserProfile","poition","userScore","$nextTick","checkWinner","canStillPlay","countdown","onInit","initialize","onExternalCtaTrigger","conditionallyShowCtaPopup","playNewRound","viewPrize","startNewSeries","patchProfileProps","background","showSponsors","title","getActivationName","openOnLoad","isConsoleUser","manualTrigger","defaultData","won","pageName","sharingEnabled","language","initBranding","initSponsors","initCustomData","initCta","initQuest","helpHeaderImg","winHeaderImg","initUserState","getQuest","initPrize","enabled","map","newProfile","setUserProfile","showPage","trackActivationFlowEnd","prizePopup","show","canSkipSdkCheck","canShowCta","then","hideCtaPopup","ctaPopup","hide","wrapper","postMessage","showError","use","VueI18n","messages","en","require","help","howto","intro","subtitle","placeholder","button","info","score","end","header","last","best","rank","prizeButton","playButton","noprize","prizeTopRanking","prizeEnoughPoints","wait","updating","empty","it","sv","de","da","ru","es","fr","i18n","fallbackLocale","config","productionTip","StagecastComponents","Stagecast","render","h","App","$mount"],"mappings":"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","file":"js/app.a561469c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyLeaderboard.vue?vue&type=style&index=0&id=100ac404&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyLeaderboard.vue?vue&type=style&index=0&id=100ac404&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/empty.306f5f3d.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Countdown.vue?vue&type=style&index=0&id=7f333eb2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Countdown.vue?vue&type=style&index=0&id=7f333eb2&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-component\",style:(_vm.background),attrs:{\"id\":\"app\",\"ontouchstart\":\"\"}},[(!_vm.view.loading)?_c('div',{staticClass:\"inner\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.playing),expression:\"!playing\"}],staticClass:\"help-section\"},[_c('ScOnboardingPopup',{ref:\"onboardingPopup\",attrs:{\"prize\":_vm.appState.prize,\"howto\":_vm.$t('help.howto'),\"share\":_vm.shareUrl,\"options\":_vm.getHelpOptions}}),(_vm.appState.prize)?_c('ScPrizeClaimPopup',{ref:\"prizePopup\",attrs:{\"prize\":_vm.appState.prize,\"profile\":_vm.appState.profile,\"options\":_vm.getPrizeOptions},on:{\"claimPrize\":function($event){return _vm.handlePrizeClaim($event)}}}):_vm._e(),(_vm.ctaEnabled)?_c('ScCtaPopup',{ref:\"ctaPopup\",attrs:{\"cta\":_vm.cta,\"storekey\":_vm.cta.createdTimestamp}}):_vm._e(),_c('ScProfileButton',{staticStyle:{\"float\":\"right\",\"margin-left\":\"8px\"}}),_c('div',{staticStyle:{\"float\":\"right\"},attrs:{\"id\":\"sc-badge-injector\"}})],1),_c('div',{staticClass:\"main-container\"},[_c('div',{staticClass:\"main-positioner\"},[(_vm.isPageVisible('introbox'))?_c('IntroPage',{on:{\"profileUpdates\":function($event){return _vm.handleProfileCreate($event)}}}):_vm._e(),(_vm.isPageVisible('game'))?_c('GamePage',{attrs:{\"custom\":_vm.custom,\"profile\":_vm.appState.profile,\"quest\":_vm.appState.quest},on:{\"gameOver\":function($event){return _vm.handleGameOver($event)}}}):_vm._e(),(_vm.isPageVisible('summary'))?_c('SummaryPage',{attrs:{\"profile\":_vm.appState.profile,\"quest\":_vm.appState.quest,\"enableLeaderboard\":_vm.custom.enableLeaderboard}}):_vm._e()],1)])]):_vm._e(),(_vm.showSponsors)?_c('ScSponsorBanner',{attrs:{\"sponsor\":_vm.sponsors}}):_vm._e(),(!_vm.view.loading)?_c('ScFooter'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('intro-box',{on:{\"profileUpdates\":function($event){return _vm.handleProfileUpdate($event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"intro-box-container\"},[_c('div',{staticClass:\"intro-box\"},[_c('h1',{staticClass:\"intro-title\"},[_vm._v(_vm._s(_vm.$t('intro.title')))]),_c('p',{staticClass:\"intro-subtitle\"},[_vm._v(_vm._s(_vm.$t('intro.subtitle')))]),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"name-input\",attrs:{\"maxlength\":_vm.maxLen,\"type\":\"text\",\"placeholder\":_vm.$t('intro.placeholder')},domProps:{\"value\":(_vm.name)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.name=$event.target.value},_vm.onInputChange]}}),_c('span',{staticClass:\"input-info\"},[_vm._v(_vm._s(_vm.charsLeft)+\" \"+_vm._s(_vm.$t('intro.info')))])]),_c('button',{staticClass:\"custom-button\",attrs:{\"disabled\":_vm.isDisabled},on:{\"click\":_vm.submitName}},[_vm._v(_vm._s(_vm.$t('intro.button'))+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * Checks whether an array is itarable\n */\nexport function isIterableArray (array) {\n  return Array.isArray(array) && !!array.length\n}\n\nexport function coerceStringProperty (element) {\n  if (isIterableArray(element)) {\n    return element[0]\n  } else if (typeof element === 'string' && element.length > 0) {\n    return element\n  } else {\n    return null\n  }\n}\n\n/**\n * Easy way to access a deep object property, witout having to check for null or undefined\n */\nexport function getObjectProp (obj, path = '') {\n  if (typeof path === 'string') {\n    path = path.split('.')\n  }\n  return path.reduce((accumulator, currentValue, i, array) => {\n    if (typeof accumulator === 'object') {\n      return accumulator[currentValue] ? accumulator[currentValue] : undefined\n    }\n    array.splice(1)\n    return undefined\n  }, obj)\n}\n\n/**\n * Make first letter of a String capital\n */\nexport function capitalFirstChar (str) {\n  return String(str).charAt(0).toUpperCase() + String(str).slice(1) || ''\n}\n\n\nexport function isSeriesActive (quest) {\n  // infinite series OR series left and series is not over yet \n  return (quest.maxSeries === 0 || quest.maxSeries >= quest.seriesCount) && quest.seriesEndTime > new Date().getTime()\n}\n/**\n * Checks when the current series will end based on the the quest duration and the Moment start time\n */\nexport function getQuestSeriesEnd (quest) {\n  const seriesCount = getCurrentActiveSeries(quest)\n  return quest.startTime + (quest.seriesDuration * seriesCount)\n}\n\n/**\n * Check what series is currently being played based on the quest series duration and the Moment start time\n */\nexport function getCurrentActiveSeries (quest) {\n  const now = new Date().getTime()\n  const currentActiveSeries = Math.ceil((now - quest.startTime) / quest.seriesDuration)\n  return quest.maxSeries === 0 ? currentActiveSeries : Math.min(quest.maxSeries, currentActiveSeries)\n}\n\n/**\n * Add an attribute to the document element (HTML tag)\n */\nexport function setPageAttributes (attrs) {\n  Object.keys(attrs).forEach(key => {\n    document.documentElement.setAttribute(key, attrs[key])\n  })\n}\n\n/**\n * Retries a Promise \"attempts\" times.\n */\nexport function retry (promise, attempts) {\n  let counter = 0\n  return promise.catch(err => {\n    counter++\n    if (counter < attempts) {\n      console.warn('retry call...') //eslint-disable-line\n      return retry(promise, attempts - counter)\n    }\n    return Promise.reject(err)\n  })\n}\n\n/**\n * Generate a 4-digit code to tell users with the same name apart\n */\nexport function generateCode (len = 4) {\n  return padLeft(Math.round(Math.random() * (10 ** parseInt(len) - 1)), len, '0')\n}\n\n/**\n * Add a character to the left of a string until the maxLen is reached\n */\nexport function padLeft (value, maxLen, s) {\n  const diff = parseInt(maxLen) - String(value).length\n  let res = String(value)\n  for (let i = 0; i < diff; i++) {\n    res = String(s) + res\n  }\n  return res\n}\n\n/**\n * Custom debounce implementation, to collect subsequent user inputs and retun only the last event.\n */\nexport function debounce (fn, delay) {\n  var timeoutId = null\n  return function () {\n    clearTimeout(timeoutId)\n    var args = arguments\n    var self = this\n    timeoutId = setTimeout(function () {\n      fn.apply(self, args)\n    }, delay)\n  }\n}\n\nexport function isInAppBrowser () {\n  return !!(window.navigator.userAgent.match(/FBAV/i) || window.navigator.userAgent.match(/FBAN/i) || window.navigator.userAgent.match(/LinkedInApp/i))\n}\n\nexport function shortenLongNumber (num) {\n  const SI_SYMBOL = ['', 'k', 'M', 'G', 'T', 'P', 'E']\n  // what tier? (determines SI symbol)\n  const tier = Math.log10(num) / 3 | 0\n  // if zero, we don't need a suffix\n  if (tier === 0) return num\n  // get suffix and determine scale\n  const suffix = SI_SYMBOL[tier]\n  const scale = Math.pow(10, tier * 3)\n  // scale the num\n  const scaled = num / scale\n  // format num and add suffix\n  return scaled.toFixed(1) + suffix\n}\n\nexport function shuffle (a) {\n  let j, x, i\n  for (i = a.length - 1; i > 0; i--) {\n    j = Math.floor(Math.random() * (i + 1))\n    x = a[i]\n    a[i] = a[j]\n    a[j] = x\n  }\n  return a\n}\n\nexport function setAppLanguage (lang) {\n  window.vm.$i18n.locale = lang || 'en'\n  setPageAttributes({ lang: window.vm.$i18n.locale })\n}\n\nexport class SharedFunctions {\n  static initSponsors (sponsor = {}, showSponsor = false) {\n    let sponsors = {}\n    if (showSponsor && isIterableArray(sponsor.logos)) {\n      sponsors = { ...sponsor, hasSponsors: true }\n    }\n    return sponsors\n  }\n\n  static initCta (cta, showCta = false) {\n    let outCta = {}\n    let ctaEnabled = false\n\n    if (showCta && cta) {\n      outCta = Object.assign({}, cta)\n      outCta.createdTimestamp = window.vm.$SDK.activation.activeChangeTs\n      outCta.headerImg = coerceStringProperty(cta.headerImg)\n      ctaEnabled = true\n    }\n    return [outCta, ctaEnabled]\n  }\n\n  static initBranding (branding) {\n    const outBranding = Object.assign({}, branding)\n\n    outBranding.backgroundImage = coerceStringProperty(branding.backgroundImage)\n    outBranding.onboardingHeaderImage = coerceStringProperty(branding.onboardingHeaderImage)\n    outBranding.backgroundColor = coerceStringProperty(branding.backgroundColor)\n\n    if (branding.theme) {\n      setPageAttributes({ theme: branding.theme })\n    }\n\n    return outBranding\n  }\n\n  static injectStagecastBadge (theme, status) {\n    const script = document.createElement('script')\n    script.src = 'https://console.staging.stagecast.io/api/assets/badge.js'\n    // script.src = '/api/assets/badge.js'\n    script.id = 'sc-badge'\n    script.setAttribute('data-theme', theme)\n    script.setAttribute('data-enabled', status)\n    document.body.appendChild(script)\n  }\n}","<template>\n  <div class=\"intro-box-container\">\n    <div class=\"intro-box\">\n      <h1 class=\"intro-title\">{{ $t('intro.title') }}</h1>\n      <p class=\"intro-subtitle\">{{ $t('intro.subtitle') }}</p>\n      <div class=\"input-group\">\n        <input @input=\"onInputChange\" v-model=\"name\" :maxlength=\"maxLen\" type=\"text\" class=\"name-input\" :placeholder=\"$t('intro.placeholder')\">\n        <span class=\"input-info\">{{ charsLeft }} {{ $t('intro.info') }}</span>\n      </div>\n      <button @click=\"submitName\" :disabled=\"isDisabled\" class=\"custom-button\">{{ $t('intro.button') }}&#8233;</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { generateCode } from '../utils'\n\nexport default {\n  name: 'IntroBox',\n  components: {},\n  props: {\n    profile: {\n      type: Object,\n      default () {\n        return {}\n      }\n    }\n  },\n  data: function () {\n    return {\n      name: '',\n      code: '',\n      minLen: 3,\n      maxLen: 20,\n      isDisabled: true\n    }\n  },\n  computed: {\n    charsLeft: function () {\n      return this.maxLen - this.name.length\n    }\n  },\n  watch: {\n    /* Allow to change the username if the user is already defined */\n    profile: function (u) {\n      if (u && u.name) {\n        try {\n          const split = u.name.split('#')\n          this.name = split[0]\n          this.code = split[1]\n        } catch (err) {\n          this.name = ''\n          this.code = ''\n        }\n      }\n    }\n  },\n  methods: {\n    /* Open the prize overlay */\n    submitName () {\n      this.isDisabled = true\n      // generate 4 digit code\n      const code = this.code || generateCode(4)\n      const name = this.name.trim()\n      this.$emit('profileUpdates', { name: `${name}#${code}` })\n    },\n    /* Enforce the name lenght limit */\n    onInputChange () {\n      this.isDisabled = this.name.length < this.minLen\n\n      if (this.name.length > this.maxLen) {\n        this.name = this.name.slice(0, this.maxLen)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n  .intro-box-container {\n    width: 100%;\n\n    .intro-box {\n      max-width: 450px;\n      margin-left: auto;\n      margin-right: auto;\n    }\n  }\n\n  .intro-box {\n    background-color: var(--bg-color-2);\n    color: var(--text-color-1);\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);\n    border-radius: 10px;\n    padding: 20px 20px 16px 20px;\n    border: 1px solid rgba(255,255,255,0.1);\n    margin-top: 16px;\n    margin-bottom: 16px;\n    text-align: center;\n\n    .intro-title {\n      font-size: 22px;\n      font-weight: $font-weight-bold;\n      margin-bottom: 10px;\n    }\n\n     .intro-subtitle {\n      margin-top: 0;\n      margin-bottom: 30px;\n    }\n\n    .custom-button {\n      background: var(--btn-color-1);\n      color: var(--btn-text-color-1);\n      font-family: $base-font-stack;\n      font-weight: $font-weight-bold;\n      margin-top: 30px;\n      border: none;\n      width: 100%;\n      height: 60px;\n      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);\n      border-radius: 7px;\n      padding: 7px 15px;\n      font-size: 22px;\n      line-height: 26px;\n      outline: none;\n\n      &:disabled {\n        opacity: 0.1;\n      }\n\n      &:active, &:focus {\n        color: var(--btn-text-color-1) !important;\n        transform: scale(0.97);\n        transition: all .3s ease-out;\n      }\n\n      svg, span {\n        vertical-align: middle;\n      }\n\n      span {\n        display: inline-block;\n        margin-left: 30px;\n        margin-right: 50px;\n      }\n    }\n  }\n\n  .input-group  {\n    padding-bottom: 30px;\n\n    .name-input {\n      width: 100%;\n      height: 60px;\n      background: var(--input-color-1);\n      color: var(--input-text-color-1);\n      border: 2px solid var(--bg-color-4);\n      border-radius: 7px;\n      font-size: 18px;\n      font-weight: $font-weight-bold;\n      padding-left: 18px;\n      padding-right: 18px;\n      outline: none;\n      transition: all .3s ease-in;\n\n      &::-webkit-input-placeholder,\n      &:-moz-placeholder,\n      &:-moz-placeholder,\n      &:-ms-input-placeholder {\n        color: rgba(23, 23, 23, 0.2);\n      }\n\n      &:focus {\n        border-color: var(--input-color-2);\n      }\n    }\n\n    // Form data is invalid\n    &.is-invalid {\n      .invalid-feedback {\n        display: block;\n      }\n\n      .name-input {\n        border-color: #ea6969;\n        color: #ea6969;\n      }\n    }\n\n    .input-info {\n      opacity: 0.2;\n      float: right;\n      font-weight: 300;\n      font-size: $base-font-size;\n      margin-top: 10px;\n    }\n\n  }\n\n  a {\n    text-decoration: underline;\n    color: var(--text-color-1);\n    font-weight: bold;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntroBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntroBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IntroBox.vue?vue&type=template&id=60e6b2d6&scoped=true&\"\nimport script from \"./IntroBox.vue?vue&type=script&lang=js&\"\nexport * from \"./IntroBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IntroBox.vue?vue&type=style&index=0&id=60e6b2d6&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60e6b2d6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"\">\n    <intro-box @profileUpdates=\"handleProfileUpdate($event)\"></intro-box>\n  </div>\n</template>\n\n<script>\nimport IntroBox from \"./IntroBox\";\n\nexport default {\n  name: 'IntroPage',\n  components: { IntroBox },\n  props: {},\n  data: function () {\n    return {}\n  },\n  computed: {},\n  methods: {\n    handleProfileUpdate: function ($event) {\n      // emit user info, save them and redirect to game\n      this.$emit('profileUpdates', $event)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntroPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntroPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IntroPage.vue?vue&type=template&id=33e5cfde&scoped=true&\"\nimport script from \"./IntroPage.vue?vue&type=script&lang=js&\"\nexport * from \"./IntroPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IntroPage.vue?vue&type=style&index=0&id=33e5cfde&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33e5cfde\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('GameBox',{ref:\"game\",attrs:{\"profile\":_vm.profile},on:{\"gameOver\":function($event){return _vm.gameOver($event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"bg-grey border-top-radius\"},[_c('h1',{staticClass:\"box-title\"},[_vm._v(_vm._s(_vm.getUserName)),_c('span',{staticClass:\"box-title-sub\"},[_vm._v(\"#\"+_vm._s(_vm.getUserCode))])]),_c('div',{staticClass:\"info-row relative\",class:{ gold: _vm.goldenPoints, green: !_vm.goldenPoints }},[_c('span',[_vm._v(_vm._s(_vm.$t('game.score')))]),_c('transition',{attrs:{\"name\":\"update\"}},[_c('span',{key:_vm.currentScore,staticClass:\"text-bold right-info\"},[_vm._v(_vm._s((_vm.currentScore || 0).toLocaleString('de-DE'))+\" p\")])])],1)]),_c('Game',{ref:\"game\",on:{\"updateScore\":function($event){return _vm.updateScore($event)},\"gameOver\":function($event){return _vm.gameOver($event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"whack-a-mole\"},[_c('div',{staticClass:\"timer-box\"},[_c('div',{staticClass:\"timer-digit\"},[_vm._v(_vm._s(_vm.timeLeft[0]))]),_c('div',{staticClass:\"timer-digit\"},[_vm._v(_vm._s(_vm.timeLeft[1]))]),_c('div',{staticClass:\"timer-colon\"},[_vm._v(\":\")]),_c('div',{staticClass:\"timer-digit\"},[_vm._v(_vm._s(_vm.timeLeft[2]))]),_c('div',{staticClass:\"timer-digit\"},[_vm._v(_vm._s(_vm.timeLeft[3]))])]),_c('div',{attrs:{\"id\":\"whack-a-mole-box\"}},[_c('div',{staticClass:\"instruction-text text-bold\"},[_vm._v(\" \"+_vm._s(_vm.instructions[_vm.status])+\" \")]),_c('div',{ref:\"moleContainer\",staticClass:\"mole-container\",class:{ hidden: !_vm.showMolesBoard }},[_vm._l((_vm.moles),function(mole,index){return [_c('button',{key:index,ref:\"moleButton\",refInFor:true,staticClass:\"mole\",class:{ shown: mole.active, golden: mole.golden }},[_c('div',{staticClass:\"mole-content\"},[(mole.active)?_c('img',{staticClass:\"mole-img\",attrs:{\"draggable\":\"false\",\"alt\":\"mole\",\"src\":_vm.options.gameButtonImage}}):_vm._e(),_c('transition',{attrs:{\"name\":\"appear\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPoints[index]),expression:\"showPoints[index]\"}],staticClass:\"fading-points\"},[_vm._v(\"+\"+_vm._s(_vm.scoreUpdate)+\"p\")])])],1)])]})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"whack-a-mole\">\n    <div class=\"timer-box\">\n        <div class=\"timer-digit\">{{timeLeft[0]}}</div>\n        <div class=\"timer-digit\">{{timeLeft[1]}}</div>\n        <div class=\"timer-colon\">:</div>\n        <div class=\"timer-digit\">{{timeLeft[2]}}</div>\n        <div class=\"timer-digit\">{{timeLeft[3]}}</div>\n    </div>\n    <div id=\"whack-a-mole-box\">\n      <div class=\"instruction-text text-bold\">\n        {{ instructions[status] }}\n      </div>\n      <div class=\"mole-container\" :class=\"{ hidden: !showMolesBoard }\" ref=\"moleContainer\">\n        <template v-for=\"(mole, index) in moles\">\n          <button ref=\"moleButton\" :key=\"index\" class=\"mole\" :class=\"{ shown: mole.active, golden: mole.golden }\">\n            <div class=\"mole-content\">\n              <img draggable=\"false\" class=\"mole-img\" alt=\"mole\" v-bind:src=\"options.gameButtonImage\" v-if=\"mole.active\">\n              <transition name=\"appear\">\n                <div v-show=\"showPoints[index]\" class=\"fading-points\">+{{ scoreUpdate }}p</div>\n              </transition>\n            </div>\n          </button>\n      </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nconst timeouts = [].fill(-1, 0, 8)\n\nexport default {\n  name: 'Game',\n  props: {},\n  data: function (){\n    return {\n      showMolesBoard: false,\n      gameIsOver: false,\n      duration: 0,\n      endTime: undefined,\n      options: {},\n      scoreUpdate: 0,\n      scoreBoost: 1,\n      roundScore: 0,\n      status: 'click',\n      instructions: {\n        click: this.$t('game.click'),\n      },\n      moles: [\n        { active: false, golden: false },\n        { active: false, golden: false },\n        { active: false, golden: false },\n        { active: false, golden: false },\n        { active: false, golden: false },\n        { active: false, golden: false },\n        { active: false, golden: false },\n        { active: false, golden: false },\n        { active: false, golden: false },\n      ],\n      showPoints: [],\n      totalClicks: 0,\n      interval: undefined,\n      timePassed : 0,\n      moleGeneration: undefined,\n      goldenMoleGeneration: undefined,\n    }\n  },\n  computed: {\n    /**\n    * Calculates how much time is left. When there is no time left. Emits signal gameOver and stops moles from generating.\n    * TODO: refactor this bit of code \n    */\n    timeLeft () {\n      // timeRemaining is in seconds.\n      let timeRemaining = this.duration / 1000 - this.timePassed;\n      // Get current time\n      let now = Date.now();\n      // If either the timer for the game is finished or the timer for the moment is finished, the game ends.\n      if (timeRemaining <= 0 || this.endTime - now < 0) {\n        // Stop timer and moleGeneration.\n        clearInterval(this.interval);\n        clearTimeout(this.moleGeneration);\n        clearInterval(this.goldenMoleGeneration);\n        // we need to check whether endTime is undefined because timeLeft is a computed property\n        if (typeof this.endTime !== 'undefined') {\n          this.gameOver()\n        }\n      }\n      let minutes = Math.floor(timeRemaining / 60);\n      let seconds = timeRemaining % 60;\n      if (seconds < 10){\n        seconds = '0' + String(seconds);\n      }\n      if (minutes < 10){\n        minutes = '0' + String(minutes);\n      }\n      return String(minutes) + String(seconds);\n    },\n    /**\n    * Defines the time between generation of moles. (In milliseconds)\n    */\n    moleGenTime () {\n      //let timePercent = this.timeLeft / 20;\n      let timePercent = this.timeLeft / (this.duration / 1000);\n      if(timePercent >= 0.95)\n        return 1000;\n      if(timePercent >= 0.85)\n        return 900;\n      else if(timePercent >= 0.75)\n        return 800;\n      else if(timePercent >= 0.65)\n        return 700;\n      else if(timePercent >= 0.55)\n        return 600;\n      else if(timePercent >= 0.45)\n        return 500;\n      else\n        return 400;\n    },\n    /**\n    * Defines the time afterwhich a mole disappear. (In milliseconds)\n    */\n    moleTimeout () {\n      let timePercent = (parseInt(this.timeLeft) * 1000) / (this.duration);\n      if (timePercent >= 0.85)\n        return 1200;\n      else if (timePercent >= 0.75)\n        return 1100;\n      else if (timePercent >= 0.65)\n        return 1000;\n      else\n        return 900;\n    }\n  },\n  beforeDestroy () {\n    window.removeEventListener('resize', this.setMoleBoardHeight);\n  },\n  methods: {\n    /**\n    * At start of game, start generation of moles and start the timer.\n    */\n    startGame (duration, options) {\n      this.duration = duration  \n      this.endTime = new Date().getTime() + duration\n      this.options = options\n      this.checkBoardWidth();\n      this.addMoleListeners();\n      this.generateMoles();\n      this.startGameTimer();\n      this.startGeneratingGoldenMoles();\n    },\n    gameOver () {\n      this.resetMoles()\n      this.gameIsOver = true\n      // Signal that the game is over\n      this.$emit('gameOver', this.totalClicks);\n    },\n    addMoleListeners() {\n      this.$refs.moleButton.forEach((el, index) => {\n        el.addEventListener('mousedown', () => {\n          this.updateScore(index)\n        })\n      })\n    },\n    checkBoardWidth() {\n      const moleContainer = this.$refs.moleContainer;\n      let width = moleContainer.clientWidth;\n      moleContainer.style.height = width + 'px';\n      this.showMolesBoard = true\n      window.addEventListener('resize', this.setMoleBoardHeight);\n    },\n    setMoleBoardHeight () {\n      const moleContainer = this.$refs.moleContainer;\n      let width = moleContainer.clientWidth;\n      moleContainer.style.height = width + 'px';\n    },\n    resetMoles () {\n      this.$set(this.moles, [\n        { active: false, golden: false },\n        { active: false, golden: false },\n        { active: false, golden: false },\n        { active: false, golden: false },\n        { active: false, golden: false },\n        { active: false, golden: false },\n        { active: false, golden: false },\n        { active: false, golden: false },\n        { active: false, golden: false }\n      ])\n    },\n    /**\n    * When mole has been clicked, Updates the current score.\n    */\n    updateScore (moleId) {\n      if (this.gameIsOver) return;\n      this.totalClicks++;\n      if (this.moles[moleId].active === true) {\n        const base = this.moles[moleId].golden ? 3 : 1;\n        this.scoreUpdate = base * this.scoreBoost;\n        // If mole is not golden scoreBoost is increased and mole disappears.\n        if (!this.moles[moleId].golden) {\n          clearTimeout(timeouts[moleId])\n          this.removeMole(moleId)\n          this.showPoints[moleId] = true;\n          setTimeout(() => { this.showPoints[moleId] = false }, 300);\n          this.scoreBoost++;\n        } \n        if (!this.gameIsOver) {\n          this.$emit(\"updateScore\", {update: this.scoreUpdate, type: this.moles[moleId].golden ? 'gold': 'normal' });\n        }\n      } else {\n        this.scoreBoost = 1\n      }\n    },\n    /**\n    * Generates the moles.\n    */\n    generateMoles() {\n      // Sets a random mole to active.\n      const moleId = Math.floor(Math.random() * 9);\n      // If that mole is not active, activate it, make it disappear after a while and generate a new mole after some time.\n      if (!this.moles[moleId].active && !this.showPoints[moleId]) {\n        this.$set(this.moles, moleId, { active: true, golden: false })\n\n        // Sets the time after which the mole disappear.\n        timeouts[moleId] = setTimeout(() => {\n          this.removeMole(moleId);\n        }, this.moleTimeout);\n        // Generates a new mole after a certain time.\n        this.moleGeneration = setTimeout(this.generateMoles, this.moleGenTime);\n        // If mole is already active then immidiatly try and generate a new mole.\n      } else {\n        this.generateMoles()\n      }\n    },\n    /**\n    * Hides mole.\n    */\n    removeMole(id) {\n      this.$set(this.moles, id, { active: false, golden: false })\n    },\n    /**\n     * Start the game timer.\n     */\n    startGameTimer() {\n      this.interval = setInterval(() => {\n        this.timePassed += 1;\n      }, 1000);\n    },\n    /**\n     * Starts generation of golden moles. Every five second a golden mole spawns.\n     */\n    startGeneratingGoldenMoles(){\n      this.goldenMoleGeneration = setInterval(() => {\n        this.generateGoldenMoles();\n      }, 5000);\n    },\n    /**\n     * Generates a golden mole. It disappear after 3 seconds.\n     */\n    generateGoldenMoles() {\n      // Sets a random mole to active.\n      const moleId = Math.floor(Math.random() * 9);\n      if (!this.moles[moleId].active && !this.showPoints[moleId]) {\n        this.$set(this.moles, moleId, { active: true, golden: true })\n        \n        // After 3 seconds the mole is removed.\n        timeouts[moleId] = setTimeout(() => {\n          this.removeGoldenMole(moleId);\n        }, 3000);\n        // If mole is already active then immidiatly try and generate a new mole.\n      } else {\n        this.generateGoldenMoles();\n      }\n    },\n    /**\n     * Hides golden mole.\n     */\n    removeGoldenMole(id) {\n      this.$set(this.moles, id, { active: false, golden: false })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  @import \"../styles/variables\";\n  .whack-a-mole {\n    position: relative;\n    padding-bottom: 16px;\n    color: #fff;\n    \n    .fading-points {\n      color: #FFFFFF;\n      background: #34BE7E;\n      height: 42px;\n      width: 42px;\n      position: absolute;\n      line-height: 25px;\n      font-size: 18px;\n      padding: 8px 0;\n      text-align: center;\n      border-radius: 50%;\n      font-weight: bold;\n      opacity: 0;\n      pointer-events: none;\n\n      &.gold {\n        background: linear-gradient(90deg, #eec868 0%, #e49358 100%);\n      }\n    }\n    .timer-box {\n      width: 100%;\n      height: 32px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background: var(--bg-color-5);\n\n      .timer-digit {\n        padding: 4px;\n        margin: 2px;\n        font-family: Source Sans Pro;\n        font-style: normal;\n        font-weight: 600;\n        font-size: 24px;\n        line-height: 16px;\n        color: var(--text-color-1);\n        background: rgba(255,255,255,0.1);\n        box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.15);\n        border-radius: 2px;\n      }\n      .timer-colon {\n        font-family: Source Sans Pro;\n        font-style: normal;\n        font-weight: 600;\n        font-size: 24px;\n        line-height: 20px;\n        color: var(--text-color-1);\n        margin:1px;\n      }\n    }\n    .instruction-text {\n      text-align: center;\n      padding-top: 16px;\n      line-height: 17px;\n      font-size: 20px;\n      margin-bottom: 15px;\n      font-weight: $font-weight-normal;\n      color: var(--text-color-1);\n    }\n    .mole-container {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-between;\n      align-content: space-around;\n      width: calc(100% - 16px);\n      margin: 0 auto;\n      min-height: 300px;\n    }\n    .mole {\n      width: 30.8%;\n      height: 30.8%;\n      max-width: 113px;\n      max-height: 113px;\n      margin: 3px;\n      padding: 0;\n      border-radius: 50%;\n      background-color: var(--bg-color-2);\n      border: 3px solid var(--input-color-2);\n      overflow: hidden;\n      outline: none;\n      user-select: none;\n      text-align: center;\n      text-decoration: none;\n      -moz-appearance: none;\n      -webkit-appearance: none;\n\n      &:active {\n        border: 3px solid var(--bg-color-2-inverted);\n        filter: brightness(90%);\n\n        .mole-content {\n          transform: scale(0.5);\n        }\n      }\n\n      &.golden {\n        // background: #FFD70020;\n        border: 3px solid transparent;\n        animation: reduceBorderWidth 2.8s linear;\n\n        &:active {\n          border: 3px solid transparent;\n\n          .mole-content {\n            border: 3px solid transparent;\n            transform: scale(0.85);\n          }\n        }\n      }\n      \n      .mole-content {\n        transition: all 0.3s ease-out;\n        width: 100%;\n        height: 100%;\n        box-sizing: border-box;\n        border: 3px solid var(--bg-color-2);\n        border-radius: 50%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n        user-select: none;\n        pointer-events: none;\n\n        &.hidden {\n          visibility: hidden;\n        }\n      }\n    }\n  }\n  .mole-img {\n    max-height: 100%;\n    max-width: 100%;\n    object-fit: cover;\n  }\n  .opacity {\n    opacity: 0.75;\n  }\n  .appear-enter-active {\n    animation: bounceAndFade .5s;\n  }\n  .appear-leave-active {\n    opacity: 0;\n  }\n  @keyframes bounceAndFade {\n    0% {\n      transform: scale(0.5);\n    }\n    4% {\n      transform: scale(1.15);\n    }\n    8% {\n      transform: scale(1);\n    }\n    25% {\n      opacity: 1;\n      transform: translateY(0%)\n    }\n    100% {\n      opacity: 0;\n      transform: translateY(-25%)\n    }\n  }\n  @keyframes reduceBorderWidth {\n    0%{\n      box-shadow: 0px 0px 0px 9px #FFD700;\n    }\n    100%{\n      box-shadow: 0px 0px 0px 0px #FFD700;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=716016b0&\"\nimport script from \"./Game.vue?vue&type=script&lang=js&\"\nexport * from \"./Game.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Game.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template> \n  <div class=\"box\">\n    <!-- Game score box -->\n    <div class=\"bg-grey border-top-radius\">\n      <h1 class=\"box-title\">{{ getUserName }}<span class=\"box-title-sub\">#{{ getUserCode }}</span></h1>\n      <div class=\"info-row relative\" :class=\"{ gold: goldenPoints, green: !goldenPoints }\">\n        <span>{{ $t('game.score') }}</span>\n        <transition name=\"update\">\n          <span class=\"text-bold right-info\" :key=\"currentScore\">{{ (currentScore || 0).toLocaleString('de-DE') }} p</span>\n        </transition>\n      </div>\n    </div>\n    <Game ref=\"game\" @updateScore=\"updateScore($event)\" @gameOver=\"gameOver($event)\"></Game>\n  </div>\n</template>\n\n<script>\nimport Game from \"./Game\";\n\nexport default {\n  name: 'GameBox',\n  components: { Game },\n  props: {\n    quest: {\n      type: Object,\n      default () {\n        return {}\n      }\n    },\n    profile: {\n      type: Object,\n      default () {\n        return {\n          name: ''\n        }\n      }\n    }\n  },\n  data: function () {\n    return {\n      currentScore: 0,\n      goldenPoints: false\n    }\n  },\n  computed: {\n    getUserName () {\n      return this.profile.name.split('#')[0]\n    },\n    getUserCode () {\n      return this.profile.name.split('#')[1]\n    },\n  },\n  mounted () {},\n  methods: {\n\n    // start game\n    startGame (duration, options) {\n      this.$refs.game.startGame(duration, options)\n    },\n\n    // Show user score updates\n    updateScore(newScore) {\n      this.currentScore += newScore.update;\n      this.goldenPoints = newScore.type === 'gold';\n      this.$set(this.profile, 'points', this.currentScore)\n    },\n\n    // Handle the end of the game\n    gameOver(totalClicks) {\n      this.$emit('gameOver', { points: this.currentScore, totalClicks })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n  \n  .relative {\n    position: relative;\n    padding-bottom: 30px;\n  }\n\n  .green {\n    --update-color: #34be7e;\n  }\n  .gold {\n    --update-color: linear-gradient(90deg, #eec868 0%, #e49358 100%);\n  }\n  .update-enter-active {\n    color: #ffffff;\n    background: var(--update-color);\n    height: 30px;\n    min-width: 30px;\n    padding: 3px 6px;\n    line-height: 24px;\n    vertical-align: middle;\n    text-align: center;\n    position: absolute;\n    right: 16px;\n    top: -6px;\n    animation: colorBounceIn 0.3s ease-in;\n    border-radius: 15px;\n  }\n\n  .update-leave-active {\n    opacity: 0;\n  }\n\n  @keyframes colorBounceIn {\n    0% {\n      opacity: 1;\n      transform: scale(0.9);\n    }\n    50% {\n      transform: scale(1.1);\n    }\n    100% {\n      opacity: 1;\n      transform: scale(1);\n    }\n  } \n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GameBox.vue?vue&type=template&id=b9c8a6ca&scoped=true&\"\nimport script from \"./GameBox.vue?vue&type=script&lang=js&\"\nexport * from \"./GameBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GameBox.vue?vue&type=style&index=0&id=b9c8a6ca&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b9c8a6ca\",\n  null\n  \n)\n\nexport default component.exports","<template> \n  <GameBox ref=\"game\" :profile=\"profile\" @gameOver=\"gameOver($event)\"></GameBox>\n</template>\n\n<script>\nimport GameBox from \"./GameBox\";\n\nexport default {\n  name: 'GamePage',\n  components: { GameBox },\n  props: {\n    custom: {\n      type: Object,\n      default () {\n        return {}\n      }\n    },\n    quest: {\n      type: Object,\n      default () {\n        return {}\n      }\n    },\n    profile: {\n      type: Object,\n      default () {\n        return {\n          name: ''\n        }\n      }\n    }\n  },\n  data: function () {\n    return {\n      challenge: {}\n    }\n  },\n  computed: {},\n  mounted () {\n    this.$SDK.quest.getChallenge(1)\n      .then(res => {\n        this.challenge = res\n        const duration = this.quest.challengeDuration\n        this.$refs.game.startGame(duration, this.custom)\n      })\n\n  },\n  methods: {\n    // Handle the end of the game\n    gameOver(finalScore) {\n      // if (finalScore.points > this.hs) {\n      //   this.$emit('updateScore', { hs: finalScore.points, clk: finalScore.totalClicks });\n      // } else {\n      //   this.$emit('updateScore', { clk: finalScore.totalClicks });\n      // }\n\n      this.$SDK.quest.respondToChallenge(1, this.challenge.hash, finalScore.points, {})\n        .then(() => {\n          this.$emit('gameOver', true)\n        })\n        .catch(err => {\n          console.log(err)\n        })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GamePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GamePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GamePage.vue?vue&type=template&id=26923ec8&scoped=true&\"\nimport script from \"./GamePage.vue?vue&type=script&lang=js&\"\nexport * from \"./GamePage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GamePage.vue?vue&type=style&index=0&id=26923ec8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26923ec8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"box\",attrs:{\"id\":\"profile-box\"}},[_c('div',{staticClass:\"bg-grey border-top-radius\"},[_c('h1',{staticClass:\"box-title\"},[_vm._v(_vm._s(_vm.getUserName)),_c('span',{staticClass:\"box-title-sub\"},[_vm._v(\"#\"+_vm._s(_vm.getUserCode))])]),_c('div',{staticClass:\"info-row\"},[_c('span',[_vm._v(_vm._s(_vm.$t('end.header.last'))+\":\")]),_c('span',{staticClass:\"right-info\"},[_vm._v(_vm._s(_vm.getRoundPoints)+\" p\")])]),_c('div',{staticClass:\"info-row\"},[_c('span',[_vm._v(_vm._s(_vm.$t('end.header.best'))+\":\")]),_c('span',{staticClass:\"right-info\"},[_vm._v(_vm._s(_vm.getBestScore)+\" p\")])]),_c('div',{staticClass:\"info-row\"},[_c('span',[_vm._v(_vm._s(_vm.$t('end.header.rank'))+\":\")]),_c('span',{staticClass:\"right-info\"},[_vm._v(_vm._s(_vm.getUserPosition))])])]),(_vm.showQuizControls)?_c('div',{staticClass:\"button-container\"},[(_vm.view.isWinner)?_c('button',{staticClass:\"custom-button prize-button\",on:{\"click\":function($event){return _vm.$root.$emit('summary:viewPrize')}}},[_vm._v(_vm._s(_vm.$t('end.header.prizeButton')))]):_vm._e(),(_vm.view.canReplay)?_c('button',{staticClass:\"custom-button\",on:{\"click\":function($event){return _vm.$root.$emit('summary:playAgain')}}},[_vm._v(_vm._s(_vm.$t('end.header.playButton'))+\" \")]):_vm._e()]):_vm._e()]),_c('div',{staticClass:\"box\",class:{ blink: _vm.view.animateCountdown },attrs:{\"id\":\"timer-box\"}},[_c('h1',{staticClass:\"box-title\"},[_vm._v(_vm._s(_vm.$t('end.countdown.title'))+\" \"),(_vm.quest.maxSeries !== 1)?_c('span',[_vm._v(\"- \"+_vm._s(_vm.$t('end.round'))+\" \"+_vm._s(_vm.getSeriesNumber))]):_vm._e()]),_c('Countdown',{ref:\"countdown\",attrs:{\"options\":{ autoStart: false }},on:{\"countdownEnd\":function($event){return _vm.handleCountdownEnd($event)}}}),_c('span',{staticClass:\"countdown-desc\",domProps:{\"innerHTML\":_vm._s(_vm.getCountdownDescription)}})],1),(_vm.view.hasLeaderboard)?_c('GlobalLeaderboard',{ref:\"leaderboard\",attrs:{\"quest\":_vm.quest,\"currentSeriesNumber\":_vm.getSeriesNumber,\"username\":_vm.profile.name},on:{\"userScore\":function($event){return _vm.handleUserScoreUpdate($event)}}}):_vm._e(),(!_vm.view.hasLeaderboard)?_c('EmptyLeaderboard',{on:{\"userScore\":function($event){return _vm.handleUserScoreUpdate($event)}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"countdown\",attrs:{\"dir\":\"ltr\"}},_vm._l((_vm.timeString),function(value,index){return _c('div',{key:index,class:{'time-box': value !== ':', 'divider': value === ':'}},[_vm._v(\" \"+_vm._s(value)+\" \")])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"countdown\" dir=\"ltr\">\n    <div v-for=\"(value, index) in timeString\" v-bind:key=\"index\" :class=\"{'time-box': value !== ':', 'divider': value === ':'}\">\n      {{value}}\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Countdown',\n  components: { },\n  data: function () {\n    return {\n      interval: -1,\n      timeString: '00:00:00',\n      over: null,\n      endTimestamp: this.endtime\n    }\n  },\n  props: {\n    options: {\n      type: Object,\n      required: false,\n      default () {\n        return {\n          autoStart: true\n        }\n      }\n    },\n    endtime: {\n      type: Number,\n      required: false,\n      default () {\n        return -1\n      }\n    }\n  },\n  mounted () {\n    if (this.options.autoStart) {\n      this.start()\n    }\n  },\n  beforeDestroy () {\n    window.clearInterval(this.interval)\n  },\n  watch: {\n    endtime: function (val) {\n      if (!val) { return }\n      clearInterval(this.interval)\n      this.over = false\n      this.endTimestamp = val\n      const now = new Date().getTime()\n      if (now <= val && this.options.autoStart) {\n        this.start()\n      } else {\n        this.timeString = '00:00:00'\n      }\n    }\n  },\n  methods: {\n    start (endtime) {\n      if (endtime) { this.endTimestamp = endtime }\n      this.over = false\n      this.interval = setInterval(() => {\n        this.checkTime()\n      }, 1000)\n    },\n    stop () {\n      clearInterval(this.interval)\n      this.timeString = '00:00:00'\n      this.$emit('countdownStop', true)\n    },\n    checkTime () {\n      if (this.endTimestamp <= 0) {\n        clearInterval(this.interval)\n        this.timeString = '00:00:00'\n        this.over = true\n        return\n      }\n\n      const now = new Date().getTime()\n      const timeRemaining = this.endTimestamp - now\n\n      // Time calculations for days, hours, minutes and seconds\n      const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24))\n      const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n      const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60))\n      const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000)\n\n      // Stop update time if countdown is finished.\n      if (timeRemaining < 0) {\n        this.timeString = '00:00:00'\n        this.over = true\n        this.$emit('countdownEnd', true)\n        clearInterval(this.interval)\n      } else {\n        // Result is written to element with id \"timer\"\n        this.timeString = this.timeFormat(hours + 24 * days) + ':' + this.timeFormat(minutes) + ':' + this.timeFormat(seconds)\n      }\n    },\n\n    /* Helper: Aadds a '0' before the number if it's below 10, for a consistent format. */\n    timeFormat (value) {\n      return value < 10 ? '0' + String(value) : value\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n\n  .countdown {\n    text-align: center;\n\n    .time-box, .divider {\n      height: 100%;\n      display: inline-block;\n      text-align: center;\n      font-weight: $font-weight-bold;\n      font-size: 30px;\n      line-height: 40px;\n    }\n\n    .time-box {\n      background: rgba(255,255,255,0.1);\n      width: 27px;\n      box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.15);\n      border-radius: 10%;\n      margin: 2px;\n    }\n\n    .divider {\n      margin: 0;\n      padding: 0 5px;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Countdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Countdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Countdown.vue?vue&type=template&id=7f333eb2&scoped=true&\"\nimport script from \"./Countdown.vue?vue&type=script&lang=js&\"\nexport * from \"./Countdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Countdown.vue?vue&type=style&index=0&id=7f333eb2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f333eb2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\",attrs:{\"id\":\"leaderboard-box\"}},[_c('Paginator',{attrs:{\"len\":_vm.currentSeriesNumber},on:{\"goBack\":function($event){return _vm.handleHistoryNavigation($event)},\"goForward\":function($event){return _vm.handleHistoryNavigation($event)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"box-title\"},[_c('h1',{staticClass:\"box-title\"},[_vm._v(_vm._s(_vm.$t('end.leaderboard.title'))+\" \"),(_vm.quest.maxSeries !== 1)?_c('span',[_vm._v(\"- \"+_vm._s(_vm.$t('end.round'))+\" \"+_vm._s(_vm.activeSeries))]):_vm._e()]),_c('div',{staticClass:\"live-indicator\"},[_c('i',{staticClass:\"blink\"}),_vm._v(_vm._s(_vm.$t('end.leaderboard.updating'))+\" \")])])]},proxy:true},{key:\"body\",fn:function(){return [_c('LeaderboardRenderer',{attrs:{\"latest\":_vm.currentSeriesNumber,\"selected\":_vm.activeSeries,\"leaderboard\":_vm.getLeaderboard,\"username\":_vm.username}})]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"round-fade\",\"mode\":\"out-in\"}},[(_vm.board.length && !_vm.view.loading)?_c('div',{key:0,staticClass:\"leaderboard\"},_vm._l((_vm.board),function(leaderboardUser,index){return _c('leaderboard-row-renderer',{key:index,attrs:{\"scorer\":leaderboardUser,\"currentUserName\":_vm.username,\"index\":index}})}),1):_vm._e(),(!_vm.view.loading && !_vm.board.length)?_c('div',{key:1,staticClass:\"loading\"},[(_vm.friends)?[(_vm.view.theme === 'light')?_c('img',{attrs:{\"src\":require(\"../assets/icons/black/empty-friend.svg\"),\"alt\":\"empty friends list\"}}):_c('img',{attrs:{\"src\":require(\"../assets/icons/white/empty-friend.svg\"),\"alt\":\"empty list\"}}),_c('p',{staticClass:\"text-grey\",staticStyle:{\"max-width\":\"320px\"}},[_vm._v(_vm._s(_vm.$t('friends.info')))])]:[(_vm.latest === _vm.selected)?[(_vm.view.theme === 'light')?_c('img',{attrs:{\"src\":require(\"../assets/icons/black/empty.svg\"),\"alt\":\"empty list\"}}):_c('img',{attrs:{\"src\":require(\"../assets/icons/white/empty.svg\"),\"alt\":\"empty list\"}}),_c('p',{staticClass:\"text-grey\",staticStyle:{\"max-width\":\"260px\"}},[_vm._v(_vm._s(_vm.$t('end.leaderboard.info')))])]:[_c('img',{attrs:{\"src\":require(\"../assets/empty.svg\"),\"alt\":\"empty list\"}}),_c('p',{staticClass:\"text-grey\",staticStyle:{\"max-width\":\"260px\"}},[_vm._v(_vm._s(_vm.$t('end.leaderboard.empty')))])]]],2):_vm._e(),(_vm.view.loading)?_c('div',{key:2,staticClass:\"loading\"},[_c('h3',[_vm._v(_vm._s(_vm.friends ? _vm.$t('end.leaderboard.loadingFriends') : _vm.$t('end.leaderboard.loading')))]),_c('p',[_vm._v(_vm._s(_vm.$t('end.leaderboard.wait')))]),(_vm.view.theme === 'light')?_c('img',{attrs:{\"src\":require(\"../assets/icons/black/preloader.svg\"),\"alt\":\"loading...\"}}):_c('img',{attrs:{\"src\":require(\"../assets/icons/black/preloader.svg\"),\"alt\":\"loading...\"}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"leaderboard-row\",class:{'odd': _vm.isOddRow, 'empty': !_vm.scorer.position}},[(_vm.isCurrentUser)?_c('div',{staticClass:\"user-marker\"}):_vm._e(),_c('div',[(_vm.scorer.position)?_c('div',{staticClass:\"leaderboard-position\"},[_vm._v(_vm._s(_vm.scorer.position)+\".\")]):_vm._e(),_c('div',{staticClass:\"leaderboard-name\"},[_vm._v(_vm._s(_vm.getScorerName)),(_vm.scorer.position)?_c('span',[_vm._v(\"#\"+_vm._s(_vm.getScorerCode))]):_vm._e()])]),(_vm.scorer.position)?_c('div',{staticClass:\"leaderboard-points\"},[_vm._v(_vm._s(_vm.scorer.bestScore.toLocaleString('de-DE'))+\" p\")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"leaderboard-row\" :class=\"{'odd': isOddRow, 'empty': !scorer.position}\">\n    <div v-if=\"isCurrentUser\" class=\"user-marker\"></div>\n    <div>\n      <div v-if=\"scorer.position\" class=\"leaderboard-position\">{{ scorer.position }}.</div>\n      <div class=\"leaderboard-name\">{{ getScorerName }}<span v-if=\"scorer.position\" >#{{ getScorerCode }}</span></div>\n    </div>\n    <div v-if=\"scorer.position\" class=\"leaderboard-points\">{{ scorer.bestScore.toLocaleString('de-DE') }}&nbsp;p</div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'LeaderboardRowRenderer',\n  components: { },\n  data: function () {\n    return {\n      default: {\n        name: 'unknown',\n        code: '0000'\n      }\n    }\n  },\n  computed: {\n    getScorerName () {\n      return this.scorer.name.split('#')[0] || this.default.name\n    },\n    getScorerCode () {\n      return this.scorer.name.split('#')[1] || this.default.code\n    },\n    isOddRow () {\n      return (this.index + 1) % 2\n    },\n    /**\n     * Check the user based on the name and not on the marker to avoid incosistencies\n     * due to the leaderboard and user own score being out of sync.\n     */\n    isCurrentUser () {\n      return (this.currentUserName === this.scorer.name)\n    }\n  },\n  props: {\n    currentUserName: String,\n    index: {\n      type: Number,\n      required: true,\n      default () { return -1 }\n    },\n    scorer: {\n      type: Object,\n      required: true,\n      default () {\n        return {}\n      }\n    }\n  },\n  created () {},\n  methods: {}\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n\n  .leaderboard-row {\n    width: 100%;\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    padding: 12px 16px;\n    line-height: 30px;\n\n    .user-marker {\n      position: absolute;\n      width: 11px;\n      background: var(--bg-color-2-inverted);\n      height: 100%;\n      left: -1px;\n      top: 0;\n      z-index: 10;\n    }\n\n    &.odd {\n      background: var(--bg-color-3);\n    }\n\n    &.empty {\n      justify-content: center;\n    }\n\n    .leaderboard-position {\n      font-weight: $font-weight-bold;\n      font-size: 20px;\n      display: inline-block;\n      text-align: right;\n      width: 38px;\n      margin-right: 12px;\n      margin-left: -8px;\n    }\n\n    .leaderboard-name {\n      font-weight: $font-weight-bold;\n      font-size: 16px;\n      display: inline-block;\n\n      span {\n        font-weight: $font-weight-normal;\n        opacity: 0.5;\n      }\n    }\n\n    .leaderboard-points {\n      font-size: 16px;\n      text-align: right;\n    }\n  }\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeaderboardRowRenderer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeaderboardRowRenderer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LeaderboardRowRenderer.vue?vue&type=template&id=7e287bee&scoped=true&\"\nimport script from \"./LeaderboardRowRenderer.vue?vue&type=script&lang=js&\"\nexport * from \"./LeaderboardRowRenderer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LeaderboardRowRenderer.vue?vue&type=style&index=0&id=7e287bee&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e287bee\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <transition name=\"round-fade\" mode=\"out-in\">\n    <div class=\"leaderboard\" v-if=\"board.length && !view.loading\" :key=\"0\">\n      <leaderboard-row-renderer\n        v-for=\"(leaderboardUser, index) in board\"\n        v-bind:key=\"index\"\n        :scorer=\"leaderboardUser\"\n        :currentUserName=\"username\"\n        :index=\"index\">\n      </leaderboard-row-renderer>\n    </div>\n    <div class=\"loading\" v-if=\"!view.loading && !board.length\" :key=\"1\">\n      <template v-if=\"friends\">\n        <img v-if=\"view.theme === 'light'\" src=\"../assets/icons/black/empty-friend.svg\" alt=\"empty friends list\"/>\n        <img v-else src=\"../assets/icons/white/empty-friend.svg\" alt=\"empty list\"/>\n        <p class=\"text-grey\" style=\"max-width: 320px\">{{ $t('friends.info') }}</p>\n      </template>\n      <template v-else>\n        <template v-if=\"latest === selected\">\n          <img v-if=\"view.theme === 'light'\" src=\"../assets/icons/black/empty.svg\" alt=\"empty list\"/>\n          <img v-else src=\"../assets/icons/white/empty.svg\" alt=\"empty list\"/>\n          <p class=\"text-grey\" style=\"max-width: 260px\">{{ $t('end.leaderboard.info') }}</p>\n        </template>\n        <template v-else>\n          <img src=\"../assets/empty.svg\" alt=\"empty list\"/>\n          <p class=\"text-grey\" style=\"max-width: 260px\">{{ $t('end.leaderboard.empty') }}</p>\n        </template>\n      </template>\n    </div>\n    <div class=\"loading\" v-if=\"view.loading\" :key=\"2\">\n      <h3>{{ friends ? $t('end.leaderboard.loadingFriends') : $t('end.leaderboard.loading') }}</h3>\n      <p>{{ $t('end.leaderboard.wait') }}</p>\n      <img v-if=\"view.theme === 'light'\" src=\"../assets/icons/black/preloader.svg\" alt=\"loading...\"/>\n      <img v-else src=\"../assets/icons/black/preloader.svg\" alt=\"loading...\"/>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport LeaderboardRowRenderer from './LeaderboardRowRenderer'\n\nexport default {\n  name: 'LeaderboardRenderer',\n  components: { LeaderboardRowRenderer },\n  props: {\n    friends: Boolean,\n    latest: Number,\n    selected: Number,\n    username: String,\n    leaderboard: {\n      type: Array,\n      required: false,\n      default () {\n        return []\n      }\n    }\n  },\n  data: function () {\n    return {\n      board: this.leaderboard,\n      view: {\n        loading: true,\n        theme: 'light'\n      }\n    }\n  },\n  created () {\n    this.view.theme = document.documentElement.getAttribute('theme')\n    this.view.loading = true\n  },\n  methods: {},\n  watch: {\n    leaderboard: function (val) {\n      this.board = val || []\n      this.view.loading = !val\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n\n  .leaderboard {\n    padding-top: 12px;\n  }\n\n  .loading {\n    text-align: center;\n    width: 100%;\n    padding: 20px;\n    opacity: 0.8;\n\n    img {\n      padding-bottom: 8px;\n      height: 48px;\n      width: 48px;\n      box-sizing: content-box;\n    }\n\n    h3 {\n      margin: 0;\n      text-align: center;\n    }\n    p {\n      margin: 0 auto 10px auto;\n      text-align: center;\n    }\n  }\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeaderboardRenderer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeaderboardRenderer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LeaderboardRenderer.vue?vue&type=template&id=bf316218&scoped=true&\"\nimport script from \"./LeaderboardRenderer.vue?vue&type=script&lang=js&\"\nexport * from \"./LeaderboardRenderer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LeaderboardRenderer.vue?vue&type=style&index=0&id=bf316218&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bf316218\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"paginator\"},[_c('div',{staticClass:\"paginator-header\"},[_c('div',{staticClass:\"custom-button arrow-button\",class:{ hidden: !_vm.canGoBack },on:{\"click\":function($event){return _vm.goBack($event)}}},[_c('svg',{attrs:{\"width\":\"8\",\"height\":\"14\",\"viewBox\":\"0 0 8 14\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M6.6 1.4L1 7L6.6 12.6\",\"stroke\":\"var(--bg-color-2)\",\"stroke-width\":\"1.6\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_vm._t(\"title\"),_c('div',{staticClass:\"custom-button arrow-button\",class:{ hidden: !_vm.canGoForward, dnone: !_vm.canGoForward && _vm.slotPassed },on:{\"click\":function($event){return _vm.goForward($event)}}},[_c('svg',{attrs:{\"width\":\"8\",\"height\":\"14\",\"viewBox\":\"0 0 8 14\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M1.4 12.6L7 7L1.4 1.4\",\"stroke\":\"var(--bg-color-2)\",\"stroke-width\":\"1.6\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})])]),_c('div',{class:{ dnone: _vm.canGoForward }},[_vm._t(\"menuoption\")],2)],2),_c('div',{staticClass:\"paginator-body\"},[_vm._t(\"body\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"paginator\">\n    <div class=\"paginator-header\">\n      <div class=\"custom-button arrow-button\" :class=\"{ hidden: !canGoBack }\" @click=\"goBack($event)\">\n        <svg width=\"8\" height=\"14\" viewBox=\"0 0 8 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M6.6 1.4L1 7L6.6 12.6\" stroke=\"var(--bg-color-2)\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        </svg>\n      </div>\n      <slot name=\"title\"></slot>\n      <div class=\"custom-button arrow-button\" :class=\"{ hidden: !canGoForward, dnone: !canGoForward && slotPassed }\"  @click=\"goForward($event)\">\n        <svg width=\"8\" height=\"14\" viewBox=\"0 0 8 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M1.4 12.6L7 7L1.4 1.4\" stroke=\"var(--bg-color-2)\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        </svg>\n      </div>\n      <div :class=\"{ dnone: canGoForward }\">\n        <slot name=\"menuoption\"></slot>\n      </div>\n    </div>\n    <div class=\"paginator-body\">\n      <slot name=\"body\"></slot>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Paginator',\n  components: { },\n  data: function () {\n    return {\n      currentIndex: -1\n    }\n  },\n  computed: {\n    canGoBack () {\n      return this.currentIndex > 0\n    },\n    canGoForward () {\n      return this.currentIndex < this.len - 1\n    },\n    slotPassed () {\n      return !!this.$slots.menuoption\n    }\n  },\n  props: {\n    len: {\n      type: Number,\n      required: true,\n      default () {\n        return -1\n      }\n    }\n  },\n  created () {},\n  mounted () {\n    this.currentIndex = this.len - 1\n  },\n  methods: {\n    goBack () {\n      if (this.currentIndex - 1 > -1) {\n        this.currentIndex--\n        this.$emit('goBack', this.currentIndex)\n      }\n    },\n    goForward () {\n      if (this.currentIndex + 1 < this.len) {\n        this.currentIndex++\n        this.$emit('goForward', this.currentIndex)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n\n  .paginator-header {\n    padding: 16px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    user-select: none;\n  }\n\n  .custom-button {\n    border: none;\n    background: var(--btn-color-1);\n    color: var(--btn-text-color-1);\n    border-radius: 7px;\n    padding: 7px 2px;\n    font-family: $base-font-stack;\n    font-size: $base-font-size;\n    font-weight: $font-weight-bold;\n    line-height: 26px;\n    outline: none;\n    transition: all 0.3 ease-out;\n\n    &:active, &:focus {\n      box-shadow: none;\n      transform: scale(0.94);\n      transition: all .3s ease-out;\n    }\n  }\n\n  .arrow-button {\n    display: inline-block;\n    width: 38px;\n    height: 38px;\n    text-align: center;\n    margin: auto;\n\n    &.hidden {\n      visibility: hidden;\n    }\n  }\n  .dnone {\n    display: none;\n  }\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Paginator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Paginator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Paginator.vue?vue&type=template&id=1ec98396&scoped=true&\"\nimport script from \"./Paginator.vue?vue&type=script&lang=js&\"\nexport * from \"./Paginator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Paginator.vue?vue&type=style&index=0&id=1ec98396&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ec98396\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\n\n// App State shared among components\nconst appState = Vue.observable({\n  profile: {},\n  quest: {},\n  prize: null,\n  activationConfig: {},\n  questHandler: null,\n  prizeHandler: null,\n  // global error\n  error: undefined,\n  errorMessage: ''\n})\n\n// quick access to configuration data\nexport const generalConfig = {\n  // the default polling duration for the leaderboard\n  leaderboardRefreshRate: 7000,\n  // the delay of the first leaderboard fetch (give time to the user score to be added)\n  leaderboardDelay: 1200,\n  // how much time before the countdown end the user is allowed to replay?\n  replayTimeLimit: 60000,\n  // pause the refresh for a while to let people time to replay the quiz and populate the new leaderboard\n  pauseRefreshAfterSeries: 40000,\n  delayNewSeriesStart: 5000,\n  backgroundImage: undefined,\n  ctaDisplayTimeout: 5000,\n  backgroundColor: 'transparent'\n}\n\nexport function setAppError (err, message, type) {\n  appState.error = err\n  appState.errorMessage = message\n  appState.errorType = type\n}\nexport default appState\n","<template>\n  <div id=\"leaderboard-box\" class=\"box\">\n    <Paginator :len=\"currentSeriesNumber\" @goBack=\"handleHistoryNavigation($event)\" @goForward=\"handleHistoryNavigation($event)\">\n      <template v-slot:title>\n        <div class=\"box-title\">\n          <h1 class=\"box-title\">{{ $t('end.leaderboard.title') }} <span v-if=\"quest.maxSeries !== 1\">- {{ $t('end.round') }} {{ activeSeries }}</span></h1>\n          <div class=\"live-indicator\">\n            <i class=\"blink\"></i>{{ $t('end.leaderboard.updating') }}\n          </div>\n        </div>\n      </template>\n      <template v-slot:body>\n        <LeaderboardRenderer :latest=\"currentSeriesNumber\" :selected=\"activeSeries\" :leaderboard=\"getLeaderboard\" :username=\"username\"></LeaderboardRenderer>\n      </template>\n    </Paginator>\n  </div>\n</template>\n\n<script>\nimport LeaderboardRenderer from './LeaderboardRenderer'\nimport Paginator from './Paginator'\nimport { setAppError, generalConfig } from '../global'\nimport { debounce } from '../utils'\n\nexport default {\n  name: 'GlobalLeaderboard',\n  components: { LeaderboardRenderer, Paginator },\n  props: {\n    currentSeriesNumber: Number,\n    username: {\n      type: String,\n      required: true,\n      default () {\n        return ''\n      }\n    },\n    quest: {\n      type: Object,\n      required: true,\n      default () {\n        return {}\n      }\n    }\n  },\n  data: function () {\n    return {\n      liveLeaderboard: undefined,\n      leaderboardHistory: [],\n      activeSeries: -1,\n      offset: 0,\n      limit: 50\n    }\n  },\n  created () {\n    window.setTimeout(this.fetchUpdates.bind(this), generalConfig.leaderboardDelay)\n  },\n  mounted () {\n    this.activeSeries = this.currentSeriesNumber\n    // if quest has multiple series OR only one but still in progress.\n    if ((this.quest.maxSeries === 0 || this.quest.maxSeries >= this.currentSeriesNumber) || this.currentSeriesNumber === 1) {\n      this.startRefresh()\n    }\n  },\n  beforeDestroy () {\n    window.clearTimeout(this.pauseTimeout)\n    window.clearInterval(this.leaderboardInterval)\n  },\n  computed: {\n    getLeaderboard () {\n      if (this.activeSeries === this.currentSeriesNumber) {\n        return this.liveLeaderboard\n      } else {\n        // the seriesId start from 1, while the history starts from index 0\n        return this.leaderboardHistory[this.activeSeries - 1]\n      }\n    }\n  },\n  methods: {\n    handleHistoryNavigation: debounce(function (index) {\n      // the historical series start from 1, pagination starts from 0\n      this.activeSeries = index + 1\n      if (this.activeSeries === this.currentSeriesNumber) {\n        this.fetchUpdates()\n        this.startRefresh()\n      } else {\n        this.stopRefresh()\n        this.fetchHistory(this.activeSeries)\n      }\n    }, 300),\n    /**\n     * Start leaderboard update interval. It fetches the latest leaderboard from the CDN\n     */\n    startRefresh (timeout = generalConfig.leaderboardRefreshRate) {\n      if (this.leaderboardInterval) {\n        window.clearInterval(this.leaderboardInterval)\n      }\n      this.leaderboardInterval = window.setInterval(this.fetchUpdates.bind(this), timeout)\n    },\n    /**\n     * Load last state and stop updating the top score\n     */\n    stopRefresh () {\n      window.clearTimeout(this.pauseTimeout)\n      window.clearInterval(this.leaderboardInterval)\n    },\n    /**\n     * Allows to stop the refresh interval for a specified amount of time.\n     * (Used to preserve the local state)\n     */\n    pauseRefresh (timeout = 10000) {\n      window.clearInterval(this.leaderboardInterval)\n      this.pauseTimeout = window.setTimeout(this.startRefresh.bind(this), timeout)\n    },\n    /**\n     * Clean the leaderboard and unset the user info.\n     * Used when a new Quiz Series starts.\n     */\n    clean () {\n      this.liveLeaderboard = null\n    },\n    /**\n     * Fetch the updated top scores and the user score.\n     * The leaderboard is cached while the user score is not. This might lead to\n     * some inconsistencies. Make sure to check if the user own position matches the one in\n     * the leaderboard.\n     */\n    fetchUpdates () {\n      if (!this.$SDK) {\n        this.liveLeaderboard = []\n        return\n      }\n\n      Promise\n        .all([\n          this.$SDK.quest.getTopScores({ query: { offset: this.offset, limit: this.limit } }),\n          this.$SDK.quest.getUserScores()\n        ])\n        .then(res => {\n          const topScores = res[0]\n          const userScore = res[1]\n\n          this.liveLeaderboard = topScores.leaderboard || []\n\n          this.$emit('userScore', { userScore, totalParticipants: topScores.totalParticipants })\n          const userPosition = userScore.position\n\n          if (userPosition === 51) {\n            this.liveLeaderboard.push(userScore)\n          }\n          if (userPosition > 51) {\n            return this.$SDK.quest.getTopScores({ query: { offset: userPosition - 2, limit: 3 } })\n          }\n        })\n        .then(moreScores => {\n          if (!moreScores) {\n            return\n          }\n          const addition = [\n            { name: '...' },\n            ...moreScores.leaderboard,\n            { name: '...' }\n          ]\n          this.liveLeaderboard.push(...addition)\n        })\n        .catch(err => {\n          console.error(err) //eslint-disable-line\n        })\n    },\n    /**\n     * Fetch top 10 users for the specified Series\n     * history index starts from 0\n     * leaderboard series starts from 1\n     */\n    fetchHistory (seriesId) {\n      if (!this.$SDK) {\n        this.$set(this.leaderboardHistory, seriesId - 1, [])\n        return\n      }\n\n      this.$SDK.quest.getTopScores({ query: { offset: 0, limit: 10, series: seriesId } })\n        .then(res => {\n          // the seriesId start from 1, while the history starts from index 0\n          this.$set(this.leaderboardHistory, seriesId - 1, res.leaderboard)\n        })\n        .catch(err => {\n          setAppError(err)\n        })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n\n  #leaderboard-box {\n    overflow: hidden;\n    min-height: 200px;\n\n    .box-title {\n      padding: 0;\n      flex-grow: 1;\n    }\n  }\n\n  .custom-button {\n    border: none;\n    background: var(--btn-color-1);\n    color: var(--btn-text-color-1);\n    border-radius: 7px;\n    padding: 7px 2px;\n    font-family: $base-font-stack;\n    font-size: $base-font-size;\n    font-weight: $font-weight-bold;\n    line-height: 26px;\n    outline: none;\n    transition: all 0.3 ease-out;\n\n    &:active, &:focus {\n      box-shadow: none;\n      transform: scale(0.94);\n      transition: all .3s ease-out;\n    }\n  }\n\n  .arrow-button {\n    display: inline-block;\n    width: 38px;\n    height: 38px;\n    text-align: center;\n    margin: auto;\n\n    &.hidden {\n      visibility: hidden;\n    }\n  }\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalLeaderboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalLeaderboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GlobalLeaderboard.vue?vue&type=template&id=647edd87&scoped=true&\"\nimport script from \"./GlobalLeaderboard.vue?vue&type=script&lang=js&\"\nexport * from \"./GlobalLeaderboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GlobalLeaderboard.vue?vue&type=style&index=0&id=647edd87&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"647edd87\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"empty-leaderboard-box\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"empty-leaderboard-box\"></div>\n</template>\n\n<script>\nimport { generalConfig } from '../global'\n\nexport default {\n  name: 'EmptyLeaderboard',\n  components: { },\n  props: {},\n  data: function () {\n    return {\n      liveLeaderboard: undefined,\n      offset: 0,\n      limit: 1 // no limit, fetch the entire leaderboard\n    }\n  },\n  created () {\n    window.setTimeout(this.fetchUpdates.bind(this), generalConfig.leaderboardDelay)\n  },\n  mounted () {\n    this.startRefresh()\n  },\n  beforeDestroy () {\n    window.clearTimeout(this.pauseTimeout)\n    window.clearInterval(this.leaderboardInterval)\n  },\n  computed: {},\n  methods: {\n    /**\n     * Start leaderboard update interval. It fetches the latest leaderboard from the CDN\n     */\n    startRefresh (timeout = generalConfig.leaderboardRefreshRate + 5000) {\n      if (this.leaderboardInterval) {\n        window.clearInterval(this.leaderboardInterval)\n      }\n      this.leaderboardInterval = window.setInterval(this.fetchUpdates.bind(this), timeout)\n    },\n    /**\n     * Load last state and stop updating the top score\n     */\n    stopRefresh () {\n      window.clearTimeout(this.pauseTimeout)\n      window.clearInterval(this.leaderboardInterval)\n    },\n    /**\n     * Allows to stop the refresh interval for a specified amount of time.\n     * (Used to preserve the local state)\n     */\n    pauseRefresh (timeout = 10000) {\n      window.clearInterval(this.leaderboardInterval)\n      this.pauseTimeout = window.setTimeout(this.startRefresh.bind(this), timeout)\n    },\n    /**\n     * Fetch the updated top scores and the user score.\n     * The leaderboard is cached while the user score is not. This might lead to\n     * some inconsistencies. Make sure to check if the user own position matches the one in\n     * the leaderboard.\n     */\n    fetchUpdates () {\n      if (!this.$SDK) return\n\n      Promise\n        .all([\n          this.$SDK.quest.getTopScores({ query: { offset: this.offset, limit: this.limit } }),\n          this.$SDK.quest.getUserScores()\n        ])\n        .then(res => {\n          const topScores = res[0]\n          const userScore = res[1]\n          this.$emit('userScore', { userScore, totalParticipants: topScores.totalParticipants })\n        })\n        .catch(err => {\n          console.error(err) //eslint-disable-line\n        })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyLeaderboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyLeaderboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmptyLeaderboard.vue?vue&type=template&id=100ac404&scoped=true&\"\nimport script from \"./EmptyLeaderboard.vue?vue&type=script&lang=js&\"\nexport * from \"./EmptyLeaderboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EmptyLeaderboard.vue?vue&type=style&index=0&id=100ac404&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"100ac404\",\n  null\n  \n)\n\nexport default component.exports","\nexport const WIN_CRITERIA = {\n  ENOUGH_POINTS: 'prizeOnEnoughPoints',\n  TOP_RANKING: 'prizeOnTopRanking'\n}\nexport default class QuestHandler {\n  timeout = null\n  quest = null\n  startTime = null\n  currentSeriesEndTs = null\n  currentSeriesNumber = null\n  currentSeriesActive = false\n  randomizeAnswers = false\n  seriesOverHandler = () => {}\n\n  constructor (quest, startTime, options) {\n    this.quest = quest\n    this.startTime = startTime\n    this._initSeries()\n\n    if (options) {\n      this.randomizeAnswers = !!options.randomizeAnswers\n      if (options.seriesOverHandler) {\n        this.seriesOverHandler = options.seriesOverHandler\n      }\n    }\n  }\n\n  prepareNewSeries () {\n    return this.getSeriesLeft() > 0 ? this._initSeries() : false\n  }\n\n  isCurrentSeriesActive () {\n    return this.currentSeriesEndTs > new Date().getTime()\n  }\n\n  /**\n   * Get remaining series based on the current one.\n   */\n  getSeriesLeft () {\n    if (this.quest.maxSeries === 0) return Infinity\n    return this.quest.maxSeries - this.currentSeriesNumber\n  }\n\n  /**\n   * Get the current series time left in ms\n   */\n  getSeriesTimeLeft () {\n    return this.currentSeriesEndTs - new Date().getTime()\n  }\n\n  /**\n   * Check if either the series is active or there are other series left\n   */\n  canStillPlay () {\n    return (this.getSeriesLeft() >= 0 && this.isCurrentSeriesActive())\n  }\n\n  /**\n   * Check if user has played too much\n   */\n  canUserReplay (profile, timeLimit) {\n    if (this.quest.maxRoundsPerSeries !== 0 && profile.currentRound >= this.quest.maxRoundsPerSeries) {\n      return false\n    }\n    return this.getSeriesTimeLeft() > timeLimit\n  }\n\n  getChallengeIndexes () {\n    return QuestFunctions.getChallengeIndexes(this.quest.challengesCount, this.quest.challengesPerRound)\n  }\n\n  /**\n   * Set the new series number and the new series end. Start the seriesEnd timeout.\n   *\n   * @returns if the new series is active. If false, the quest is over for good.\n   */\n  _initSeries () {\n    // if there are series left go to the next one\n    this.currentSeriesEndTs = this._getSeriesEndTs()\n    this.currentSeriesNumber = this._getSeriesNumber()\n    this.currentSeriesActive = this.isCurrentSeriesActive()\n\n    const seriesTimeLeft = this.currentSeriesEndTs - new Date().getTime()\n    if (seriesTimeLeft > 0) {\n      // set a timout to notify that the series has ended.\n      this.timeout = window.setTimeout(() => {\n        this.currentSeriesActive = false\n        if (this.seriesOverHandler) this.seriesOverHandler(this)\n      }, seriesTimeLeft)\n      return true\n    } else {\n      return false\n    }\n  }\n\n  _getSeriesEndTs () {\n    return QuestFunctions.getQuestSeriesEnd(this.quest, this.startTime)\n  }\n\n  _getSeriesNumber () {\n    return QuestFunctions.getQuestSeriesNumber(this.quest, this.startTime)\n  }\n\n  addSeriesOverHandler (handler) {\n    this.seriesOverHandler = handler\n  }\n\n  removeSeriesOverHandler () {\n    this.seriesOverHandler = () => {}\n  }\n}\n\nexport class PrizeHandler {\n  constructor (quest, prize) {\n    this.quest = quest\n    this.prize = prize\n  }\n\n  get hasPrize () {\n    return !!this.prize\n  }\n\n  getCountdownDescription () {\n    if (!this.prize) return window.vm.$t('end.countdown.noprize')\n\n    if (this.prize.type === WIN_CRITERIA.ENOUGH_POINTS) {\n      const thresholdScore = this.prize.enoughPoints || this.prize.enoughPointsPercentage\n      return window.vm.$tc('end.countdown.prizeEnoughPoints', thresholdScore, { num: thresholdScore })\n    } else if (this.prize.type === WIN_CRITERIA.TOP_RANKING) {\n      const winnersPerRound = this.prize.prizeAvailabilityLimit\n      return window.vm.$tc('end.countdown.prizeTopRanking', winnersPerRound, { num: winnersPerRound })\n    } else {\n      return window.vm.$t('end.countdown.noprize')\n    }\n  }\n\n  checkWinner (userProfile) {\n    return (this.prize && userProfile.prizes && userProfile.prizes.length > 0)\n  }\n}\n\nclass QuestFunctions {\n  /**\n   * Before starting the quest, get the list of challenge ids that are going to\n   * be presented to the participant.\n   */\n  static getChallengeIndexes (count, limit) {\n    return (count > limit)\n      ? QuestFunctions.getRandomChallenges(count, limit)\n      : QuestFunctions.getAllChallenges(count)\n  }\n\n  /* Strategy 1: get all quest Challenges in order */\n  static getAllChallenges (count) {\n    if (count > 0) {\n      const indexes = [...Array(count).keys()]\n      indexes.splice(0, 1)\n      indexes.push(count)\n      return indexes\n    } else {\n      return []\n    }\n  }\n\n  /* Strategy 2: get N Challenge indexes without repetitions. These N Challenges will form the quest round. */\n  static getRandomChallenges (count, limit) {\n    const arr = [...Array(count).keys()]\n    arr.splice(0, 1)\n    arr.push(count)\n    const indexes = []\n    for (let i = 0; i < limit; i++) {\n      const arrIndex = Math.floor(Math.random() * (count - i))\n      indexes.push(arr[arrIndex])\n      arr.splice(arrIndex, 1)\n    }\n    return indexes\n  }\n\n  /**\n   * Checks when the current series will end based on the the quest duration and the Moment start time\n   */\n  static getQuestSeriesEnd (quest, startTime) {\n    const seriesCount = QuestFunctions.getQuestSeriesNumber(quest, startTime)\n    return startTime + (quest.seriesDuration * seriesCount)\n  }\n\n  /**\n   * Check what series is currently being played based on the quest series duration and the activation start time.\n   * If the last series has already passed, returns the last series number.\n   */\n  static getQuestSeriesNumber (quest, startTime) {\n    const now = new Date().getTime()\n    const numberOfSeries = Math.ceil((now - startTime) / quest.seriesDuration) || 1\n    return quest.maxSeries === 0 ? numberOfSeries : Math.min(quest.maxSeries, numberOfSeries)\n  }\n}\n","<template>\n  <div>\n    <div id=\"profile-box\" class=\"box\">\n      <div class=\"bg-grey border-top-radius\">\n        <h1 class=\"box-title\">{{ getUserName }}<span class=\"box-title-sub\">#{{ getUserCode }}</span></h1>\n        <div class=\"info-row\"><span>{{ $t('end.header.last') }}:</span><span class=\"right-info\">{{ getRoundPoints }}&nbsp;p</span></div>\n        <div class=\"info-row\"><span>{{ $t('end.header.best') }}:</span><span class=\"right-info\">{{ getBestScore }}&nbsp;p</span></div>\n        <div class=\"info-row\"><span>{{ $t('end.header.rank') }}:</span><span class=\"right-info\">{{ getUserPosition }}</span></div>\n      </div>\n      <div class=\"button-container\" v-if=\"showQuizControls\">\n        <button v-if=\"view.isWinner\" @click=\"$root.$emit('summary:viewPrize')\" class=\"custom-button prize-button\">{{ $t('end.header.prizeButton') }}</button>\n        <button v-if=\"view.canReplay\" @click=\"$root.$emit('summary:playAgain')\" class=\"custom-button\">{{ $t('end.header.playButton') }}&#8233;</button>\n      </div>\n    </div>\n    <div id=\"timer-box\" class=\"box\" :class=\"{ blink: view.animateCountdown }\">\n      <h1 class=\"box-title\">{{ $t('end.countdown.title') }} <span v-if=\"quest.maxSeries !== 1\">- {{ $t('end.round') }} {{ getSeriesNumber }}</span></h1>\n      <Countdown ref=\"countdown\" :options=\"{ autoStart: false }\" @countdownEnd=\"handleCountdownEnd($event)\"></Countdown>\n      <span class=\"countdown-desc\" v-html=\"getCountdownDescription\"></span>\n    </div>\n    <GlobalLeaderboard \n      v-if=\"view.hasLeaderboard\"\n      ref=\"leaderboard\" \n      :quest=\"quest\" \n      :currentSeriesNumber=\"getSeriesNumber\"\n      :username=\"profile.name\" \n      @userScore=\"handleUserScoreUpdate($event)\">\n    </GlobalLeaderboard>\n    <EmptyLeaderboard v-if=\"!view.hasLeaderboard\" @userScore=\"handleUserScoreUpdate($event)\"></EmptyLeaderboard>\n  </div>\n\n</template>\n\n<script>\nimport Countdown from './Countdown'\nimport GlobalLeaderboard from './GlobalLeaderboard'\nimport EmptyLeaderboard from './EmptyLeaderboard'\n\nimport { shortenLongNumber } from '../utils'\nimport appState, { generalConfig, setAppError } from '../global'\nimport { WIN_CRITERIA } from '../quest-handler'\n\n// used to avoid opening the prize popup every time the user goes to the leaderboard\nlet shouldShowPrizeWhenComponentMounts = true\n\nexport default {\n  name: 'SummaryPage',\n  components: { Countdown, GlobalLeaderboard, EmptyLeaderboard },\n  props: {\n    enableLeaderboard: Boolean,\n    profile: {\n      type: Object,\n      required: true,\n      default () {\n        return {\n          name: 'unknown#0000',\n          points: 0,\n          bestScore: 0\n        }\n      }\n    },\n    quest: {\n      type: Object,\n      required: true,\n      default () {\n        return {}\n      }\n    }\n  },\n  data: function () {\n    return {\n      view: {\n        canReplay: false,\n        isWinner: false,\n        animateCountdown: false,\n        hasLeaderboard: this.enableLeaderboard\n      },\n      userPosition: -1,\n      totalParticipants: 0,\n      appState: appState\n    }\n  },\n  computed: {\n    getUserName () {\n      return this.profile.name.split('#')[0]\n    },\n    getUserCode () {\n      return this.profile.name.split('#')[1]\n    },\n    getRoundPoints () {\n      return (this.profile.points || 0).toLocaleString('de-DE')\n    },\n    getBestScore () {\n      return (this.profile.bestScore || 0).toLocaleString('de-DE')\n    },\n    getUserPosition () {\n      if (this.profile.position > 0 && this.profile.bestScore > 0) {\n        return this.profile.position + '/' + shortenLongNumber(this.totalParticipants)\n      } else {\n        return 'N/A'\n      }\n    },\n    getCountdownDescription () {\n      return this.appState.prizeHandler\n        ? this.appState.prizeHandler.getCountdownDescription()\n        : ''\n    },\n    getSeriesNumber () {\n      return this.appState.questHandler\n        ? this.appState.questHandler.currentSeriesNumber\n        : -1\n    },\n    showQuizControls () {\n      return this.view.isWinner || this.view.canReplay\n    }\n  },\n  created () {},\n  mounted: function () {\n    // register listeners and intervals\n    this.$root.$on('app:newSeriesStarted', this.newSeriesStarted.bind(this))\n    this.replayInterval = window.setInterval(this.updateCanReplay.bind(this), 1000)\n\n    // start countdown if the quest is still on\n    if (appState.questHandler.canStillPlay()) {\n      this.startCountdown()\n    }\n\n        // get the user profile and check if there is a prize to be claimed\n    (this.isPrizeOnReachScore() ? this.refreshUserProfile() : Promise.resolve(this.profile))\n      .then(userProfile => {\n        const isWinner = this.checkWinner(userProfile)\n        if (isWinner && shouldShowPrizeWhenComponentMounts) {\n          shouldShowPrizeWhenComponentMounts = false\n          this.$nextTick(() => this.$root.$emit('summary:viewPrize'))\n        }\n      })\n  },\n  beforeDestroy: function () {\n    window.clearInterval(this.replayInterval)\n    this.$root.$off('app:newSeriesStarted')\n  },\n  methods: {\n    isPrizeOnReachScore () {\n      return appState.prizeHandler \n        && appState.prizeHandler.prize\n        && appState.prizeHandler.prize.type === WIN_CRITERIA.ENOUGH_POINTS\n    },\n    /**\n     * Handler for when a new series starts. The App component will send this event.\n     */\n    newSeriesStarted () {\n      this.prepareUserForNewSeries()\n      if (this.view.hasLeaderboard) {\n        this.prepareLeaderboardForNewSeries()\n      }\n      this.updateCanReplay()\n      this.startCountdown()\n    },\n\n    /**\n     * Handler for the countdown.\n     */\n    handleCountdownEnd () {\n      this.animateCountdownOver()\n      this.refreshUserProfile()\n        .then(userProfile => {\n          const isWinner = this.checkWinner(userProfile)\n          if (isWinner) { this.$nextTick(() => this.$root.$emit('summary:viewPrize')) }\n        })\n        .finally(() => {\n          if (this.view.hasLeaderboard) {\n            this.$refs.leaderboard.stopRefresh()\n          }\n          window.setTimeout(() => {\n            this.$root.$emit('summary:startNewSeries')\n          }, generalConfig.delayNewSeriesStart)\n        })\n    },\n\n    /**\n     * Fetch user profile and check if a prize has been assigned.\n     */\n    refreshUserProfile () {\n      return this.$SDK.quest.getUserProfile()\n        .then(userProfile => {\n          this.$root.$emit('app:patchProfile', userProfile)\n          return userProfile\n        })\n        .catch(setAppError)\n    },\n\n    /**\n     * Prepare the user for new series by resetting scores and position.\n     */\n    prepareUserForNewSeries () {\n      this.$root.$emit('app:patchProfile', {\n        points: 0,\n        bestScore: 0,\n        currentRound: 0,\n        poition: null\n      })\n    },\n\n    /**\n     * When fetching the leaderboard, the backend returns also the position and bestScore\n     * as well as the totalParticipants.\n     */\n    handleUserScoreUpdate ($event) {\n      this.$root.$emit('app:patchProfile', $event.userScore || {})\n      this.totalParticipants = $event.totalParticipants\n    },\n\n    /**\n     * When the series is over, the quest moves to the next one and the current\n     * series becomes the second-to-last.\n     */\n    prepareLeaderboardForNewSeries () {\n      // execute logic at next tick to make sure the leaderboard component gets loaded\n      this.$nextTick(() => {\n        // fetch older history and clean the last round\n        this.$refs.leaderboard.fetchHistory(appState.questHandler.currentSeriesNumber - 1)\n        this.$refs.leaderboard.clean()\n        // pause refreshing for a while as new scores are not coming immediately after a new series has started\n        this.$refs.leaderboard.pauseRefresh(generalConfig.pauseRefreshAfterSeries)\n      })\n    },\n\n    checkWinner (userProfile) {\n      if (appState.prizeHandler) {\n        this.view.isWinner = appState.prizeHandler.checkWinner(userProfile)\n        return this.view.isWinner\n      } else {\n        return false\n      }\n    },\n\n    /**\n     * Check whether user can play and update replay status\n     */\n    updateCanReplay () {\n      if (appState.questHandler) {\n        this.view.canReplay = appState.questHandler.canUserReplay(this.profile, generalConfig.replayTimeLimit)\n      }\n    },\n\n    /**\n     * Start the series countdown.\n     */\n    startCountdown () {\n      const questHandler = appState.questHandler\n      if (questHandler && questHandler.canStillPlay()) {\n        this.$refs.countdown.start(questHandler.currentSeriesEndTs)\n      }\n    },\n\n    /**\n     * Start coutdown animation.\n     */\n    animateCountdownOver () {\n      this.view.animateCountdown = true\n      window.setTimeout(() => {\n        this.view.animateCountdown = false\n      }, 3000)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables';\n  .summary-container {\n    width: 100%;\n\n    .summary-positioner {\n      max-width: 450px;\n      margin-left: auto;\n      margin-right: auto;\n    }\n  }\n\n  .box {\n    &.blink {\n      animation: prize-blink 1.5s ease-in-out;\n      animation-iteration-count: 2;\n    }\n  }\n\n  .button-container {\n    width: 100%;\n    padding: 16px;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    display: flex;\n\n    button {\n      &:first-of-type {\n        margin-right: 8px;\n      }\n\n      &:last-of-type {\n        margin-left: 8px;\n      }\n\n      width: calc(50% - 8px);\n    }\n  }\n\n  .custom-button {\n    border: none;\n    background: var(--btn-color-1);\n    color: var(--btn-text-color-1);\n    border-radius: 7px;\n    padding: 7px 2px;\n    font-family: $base-font-stack;\n    font-size: $base-font-size;\n    font-weight: $font-weight-bold;\n    line-height: 26px;\n    outline: none;\n    transition: all 0.3 ease-out;\n\n    &:active, &:focus {\n      box-shadow: none;\n      transform: scale(0.97);\n      transition: all .3s ease-out;\n    }\n  }\n\n  .prize-button {\n    background: mix(#eec868, #e49358, 50%);\n    background: linear-gradient(90deg, #eec868 0%, #e49358 100%);\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);\n    animation-name: pulse;\n    animation-duration: 2s;\n    animation-iteration-count: 5;\n    animation-delay: 1s;\n    color: var(--btn-text-color-1);\n\n    &:active {\n      color: var(--btn-text-color-1) !important;\n      box-shadow: none;\n      transform: scale(0.97);\n      transition: all .3s ease-out;\n    }\n  }\n\n  .countdown {\n    padding-bottom: 8px;\n  }\n\n  .countdown-desc {\n    width: 100%;\n    padding: 8px 16px 20px 16px;\n    text-align: center;\n    display: block;\n  }\n\n  @keyframes pulse {\n    0% { transform: scale(1); }\n    50% { transform: scale(1.05); }\n    100% { transform: scale(1); }\n  }\n\n  @keyframes prize-blink {\n    0%   { background-color: var(--bg-color-2); color: var(--text-color-1);}\n    25%  { background-color: mix(#eec868, #e49358, 50%); background-color: linear-gradient(90deg, #eec868 0%, #e49358 100%); color: var(--text-color-1-inverted);}\n    50%  { background-color: var(--bg-color-2); color: var(--text-color-1);}\n    75%  { background-color: mix(#eec868, #e49358, 50%); background-color: linear-gradient(90deg, #eec868 0%, #e49358 100%); color: var(--text-color-1-inverted);}\n    100%  { background-color: var(--bg-color-2); color: var(--text-color-1);}\n  }\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SummaryPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SummaryPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SummaryPage.vue?vue&type=template&id=b5b54730&scoped=true&\"\nimport script from \"./SummaryPage.vue?vue&type=script&lang=js&\"\nexport * from \"./SummaryPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SummaryPage.vue?vue&type=style&index=0&id=b5b54730&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b5b54730\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\" class=\"app-component\" v-bind:style=\"background\" ontouchstart>\n    <div class=\"inner\" v-if=\"!view.loading\">\n      <div class=\"help-section\" v-show=\"!playing\">\n        <ScOnboardingPopup ref=\"onboardingPopup\" :prize=\"appState.prize\" :howto=\"$t('help.howto')\" :share=\"shareUrl\" :options=\"getHelpOptions\"></ScOnboardingPopup>\n        <ScPrizeClaimPopup v-if=\"appState.prize\" ref=\"prizePopup\" :prize=\"appState.prize\" :profile=\"appState.profile\" :options=\"getPrizeOptions\" @claimPrize=\"handlePrizeClaim($event)\"></ScPrizeClaimPopup>\n        <ScCtaPopup v-if=\"ctaEnabled\" ref=\"ctaPopup\" :cta=\"cta\" :storekey=\"cta.createdTimestamp\"></ScCtaPopup>\n        <ScProfileButton style=\"float: right; margin-left: 8px;\"></ScProfileButton>\n        <div id=\"sc-badge-injector\" style=\"float: right\"></div>\n      </div>\n      <div class=\"main-container\">\n        <div class=\"main-positioner\">\n          <IntroPage v-if=\"isPageVisible('introbox')\" @profileUpdates=\"handleProfileCreate($event)\"></IntroPage>\n          <GamePage v-if=\"isPageVisible('game')\" :custom=\"custom\" :profile=\"appState.profile\" :quest=\"appState.quest\" @gameOver=\"handleGameOver($event)\"></GamePage>\n          <SummaryPage v-if=\"isPageVisible('summary')\" :profile=\"appState.profile\" :quest=\"appState.quest\" :enableLeaderboard=\"custom.enableLeaderboard\"></SummaryPage>\n        </div>\n      </div>\n    </div>\n    <ScSponsorBanner v-if=\"showSponsors\" :sponsor=\"sponsors\"></ScSponsorBanner>\n    <ScFooter v-if=\"!view.loading\"></ScFooter>\n  </div>\n</template>\n\n<script>\nimport IntroPage from './components/IntroPage'\nimport GamePage from './components/GamePage'\nimport SummaryPage from './components/SummaryPage'\n\nimport { SharedFunctions, setAppLanguage, retry, isIterableArray } from './utils'\nimport appState, { setAppError, generalConfig } from './global'\nimport QuestHandler, { PrizeHandler } from './quest-handler'\n\n// let userState = {\n//   hs: 0, // high score\n//   clk: 0, // total clicks\n//   name: \"\", // username\n//   id: Math.floor(Math.random() * 9999 + 1) // random id\n// }\n\nexport default {\n  name: \"App\",\n  components: { IntroPage, GamePage, SummaryPage },\n  created() {\n    this.$SDK.onInit(this.initialize);\n    this.$SDK.onExternalCtaTrigger(this.conditionallyShowCtaPopup.bind(this, true));\n  },\n  mounted () {\n    this.$root.$on('summary:playAgain', this.playNewRound.bind(this))\n    this.$root.$on('summary:viewPrize', this.viewPrize.bind(this))\n    this.$root.$on('summary:startNewSeries', this.startNewSeries.bind(this))\n    this.$root.$on('app:patchProfile', this.patchProfileProps.bind(this))\n\n  },\n  // clean all intervals and event listeners\n  beforeDestroy () {\n    this.$root.$off('summary:playAgain')\n    this.$root.$off('summary:viewPrize')\n    this.$root.$off('summary:startNewSeries')\n    this.$root.$off('app:patchProfile')\n  },\n  computed: {\n    /* Page background */\n    background: function () {\n      if (!this.branding) {\n        return { backgroundColor: generalConfig.backgroundColor }\n      }\n      if (this.branding.backgroundImage) {\n        return { backgroundImage: `url(${this.branding.backgroundImage})` }\n      }\n      if (this.branding.backgroundColor) {\n        return { backgroundColor: this.branding.backgroundColor }\n      }\n      return { backgroundColor: generalConfig.backgroundColor }\n    },\n    /* Logo banner display rules */\n    showSponsors: function () {\n      return !this.view.loading && this.sponsors.hasSponsors\n    },\n    /* Help popup data options */\n    getHelpOptions: function () {\n      return {\n        title: this.$SDK.getActivationName() || 'Whack a Mole',\n        headerImg: this.branding.onboardingHeaderImage,\n        openOnLoad: !this.$SDK.isConsoleUser()\n      }\n    },\n    /* Prize popup data options */\n    getPrizeOptions: function () {\n      return {\n        manualTrigger: false\n      }\n    }\n  },\n  data: function() {\n    return {\n      appState: appState,\n      defaultData: {\n        gameButtonImage: \"./assets/mole.png\"\n      },\n      cta: {},\n      ctaEnabled: false,\n      custom: {},\n      branding: {},\n      sponsors: {},\n      playing: false,\n      won: false,\n      shareUrl: undefined,\n      view: {\n        loading: true,\n        pageName: ''\n      }\n    };\n  },\n  methods: {\n    /* Initialize the Stagecast Moments SDK */\n    initialize() {\n      const activationConfig = this.$SDK.activation.getConfig()\n      this.$set(this.appState, 'activationConfig', activationConfig)\n      this.shareUrl = activationConfig.sharingEnabled ? activationConfig.shareUrl : null\n      setAppLanguage(activationConfig.language)\n      this.initBranding(activationConfig.branding)\n      this.initSponsors(activationConfig.sponsor, activationConfig.showSponsor)\n      this.initCustomData(activationConfig.custom)\n      this.initCta(activationConfig.cta, activationConfig.showCta)\n      this.initQuest(this.$SDK.activation.activeChangeTs)\n        .then(quest => {\n          this.initPrize(quest, activationConfig.prize)\n          return this.initUserState(activationConfig.custom)\n        })\n        .finally(() => {\n          this.view.loading = false\n          SharedFunctions.injectStagecastBadge(activationConfig.branding.theme, this.$SDK.badgeStatus())\n        })\n    },\n\n     /* Initialize the Sponsor Banner */\n    initSponsors (sponsor = {}, showSponsor = false) {\n      this.sponsors = SharedFunctions.initSponsors(sponsor, showSponsor)\n    },\n\n    /* Initialize Call to Action */\n    initCta (cta, showCta = false) {\n      [this.cta, this.ctaEnabled] = SharedFunctions.initCta(cta, showCta)\n    },\n\n    /* Set branding styles */\n    initBranding (branding) {\n      this.branding = SharedFunctions.initBranding(branding)\n    },\n\n    /* Initialize the data specific to this Activation and add defaults */\n    initCustomData (customData) {\n      const custom = Object.assign({}, customData)\n\n      isIterableArray(custom.helpHeaderImg)\n        ? custom.helpHeaderImg = custom.helpHeaderImg[0]\n        : custom.helpHeaderImg = null\n\n      isIterableArray(custom.winHeaderImg)\n        ? custom.winHeaderImg = custom.winHeaderImg[0]\n        : custom.winHeaderImg = null\n\n      isIterableArray(custom.gameButtonImage) \n        ? custom.gameButtonImage = custom.gameButtonImage[0]\n        : custom.gameButtonImage = this.defaultData.gameButtonImage \n\n      this.custom = custom\n    },\n\n    /* Fetch the user state and sync the data. */\n    initUserState() {\n      return this.$SDK.quest.getUserProfile()\n        .then((profile) => {\n          this.appState.profile = profile\n          this.showPage(profile ? 'summary' : 'introbox')\n        })\n        .catch((err) => { //eslint-disable-line\n          this.showPage('introbox')\n        })\n    },\n\n    /* Get the quest related to this Moment from the backend */\n    initQuest (startTime) {\n      return this.$SDK.quest.getQuest()\n        .then((quest) => {\n          const options = {\n            seriesOverHandler: this.seriesOverHandler.bind(this)\n          }\n          this.appState.quest = quest\n          this.appState.questHandler = new QuestHandler(quest, startTime, options)\n        })\n        .catch((err) => { //eslint-disable-line\n          this.showError(err)\n        })\n        .finally(() => {\n          if (!this.appState.quest) this.appState.quest = {}\n        })\n    },\n    \n    // TODO: check the 'disabled' state and the getAllocatedPrizes function\n    // check also the prize winning criteria\n    initPrize (quest, prize) {\n      if (!prize || !this.$SDK.prize.enabled) {\n        this.appState.prize = null\n      } else {\n        this.$set(this.appState, 'prize', prize)\n      }\n      this.appState.prizeHandler = new PrizeHandler(quest, prize)\n    },\n\n    patchProfileProps (props) {\n      const newProfile = Object.assign({}, this.appState.profile)\n      Object.keys(props).map(key => {\n        newProfile[key] = props[key]\n      })\n      this.appState.profile = newProfile\n    },\n\n    /**\n     * Create profile and start new round\n     */\n    handleProfileCreate ($event) {\n      retry(this.$SDK.quest.setUserProfile($event), 3)\n        .then(res => {\n          this.appState.profile = res\n          this.appState.questHandler.canStillPlay()\n            ? this.playNewRound()\n            : this.showPage('summary')\n        })\n        .catch(err => {\n          console.error(err) //eslint-disable-line\n          this.appState.profile = {}\n          this.showError(err, this.$t('intro.playerLimitError'), 'warn')\n        })\n    },\n\n    handleGameOver () {\n      this.showPage('summary')\n      this.trackActivationFlowEnd()\n      this.conditionallyShowCtaPopup()\n    },\n\n    viewPrize () {\n      if (this.appState.prize) {\n        this.$refs.prizePopup.show()\n      }\n    },\n\n    startNewSeries () {\n      const res = this.appState.questHandler.prepareNewSeries()\n      if (res) {\n        this.$root.$emit('app:newSeriesStarted')\n      }\n    },\n\n    conditionallyShowCtaPopup (canSkipSdkCheck) {\n      if (!this.ctaEnabled) return\n      if (!canSkipSdkCheck && !this.$SDK.activation.canShowCta()) return\n      \n      this.$nextTick().then(() => this.$refs.ctaPopup.show({ delay: generalConfig.ctaDisplayTimeout }))\n    },\n\n    hideCtaPopup () {\n      if (!this.ctaEnabled) { return }\n      this.$refs.ctaPopup.hide()\n    },\n\n    seriesOverHandler () {\n      if (this.isPageVisible('quiz')) {\n        this.$root.$emit('app:questRoundInterrupt')\n      }\n    },\n\n        \n    trackActivationFlowEnd () {\n      this.$SDK.wrapper.postMessage({ type: 'activation:flow:end', traits: { shouldTriggerCta: this.ctaEnabled && !this.$SDK.activation.canShowCta() } })\n      return \n    },\n\n    /**\n     * Will handle the request to play a new round\n     * If roundsPlayed = 0, simply replay the game without resetting the score\n     * (no score will be there if you played 0 rounds)\n     */\n    playNewRound () {\n      this.hideCtaPopup()\n      this.$SDK.quest.playNewRound({ token: 'broken_token' })\n        .then(user => {\n          this.appState.profile = user\n          this.showPage('game')\n        })\n        .catch(setAppError)\n    },\n\n    // check if the component is visibile\n    isPageVisible (name) {\n      return this.view.pageName === name\n    },\n\n    // show/hide pages\n    showPage (name) {\n      this.view.pageName = name\n    },\n\n    // show generic app errors\n    showError (err, message, type) {\n      setAppError(err, message, type)\n    }\n  }\n};\n</script>\n\n\n<style lang=\"scss\">\n  @import \"styles/variables\";\n  @import \"styles/main.scss\";\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n  }\n\n  html,\n  body {\n    // iOS Safari 12 scroll fix\n    overflow-y: auto;\n    height: 100%;\n  }\n  .help-section {\n    max-width: 450px;\n    margin: 10px auto 0 auto;\n  }\n  .app-component {\n    font-size: $base-font-size;\n    line-height: $base-line-height;\n    font-family: $base-font-stack;\n    color: $base-color;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    width: 100vw;\n    // iOS Safari 12 scroll fix\n    overflow-y: auto;\n    height: 100%;\n    min-height: 100vh;\n    background: transparent;\n    background-position: center center;\n    background-size: cover;\n    background-attachment: fixed;\n  }\n\n  // Clearfix\n  .app-component::before,\n  .app-component::after {\n    content: \" \";\n    display: table;\n    clear: both;\n  }\n\n  .app-component > .inner {\n    margin-left: auto;\n    margin-right: auto;\n    position: relative;\n    padding: 0 20px;\n    width: 100%;\n    max-width: 700px;\n  }\n\n  .main-container {\n    width: 100%;\n\n    .main-positioner {\n      max-width: 450px;\n      margin-left: auto;\n      margin-right: auto;\n    }\n  }\n\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=44553f18&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\n\nVue.use(VueI18n)\n// TODO: ru tr vi ar are missing the countdown desc changes\nconst messages = {\n  en: {\n    ...require('@stagecast/activation-components/lib/locale/en').default,\n    help: {\n      howto: [\n        'Click on images to earn points and increase your multiplier by +1 every time you hit an image in a row.',\n        'Missing an image will reset your multiplier.',\n        'Golden images can be clicked several times and you earn 3x more points per click.'\n      ]\n    },\n    intro: {\n      title: 'Click the Images',\n      subtitle: 'The more images you click in a row, the more points you earn.',\n      placeholder: 'Type your name...',\n      button: 'Start Game',\n      info: 'characters left'\n    },\n    game: {\n      click: \"Click the images fast!\",\n      score: 'Your Score'\n    },\n    end: {\n      round: 'Round',\n      header: {\n        last: 'Latest Score',\n        best: 'Best Score',\n        rank: 'Your Rank',\n        prizeButton: 'Your Prize',\n        playButton: 'Play Again'\n      },\n      countdown: {\n        title: 'Countdown',\n        noprize: 'Climb to the top of the leaderboard before the countdown runs out!',\n        prizeTopRanking: 'Climb to the <strong>top {num}</strong> of the leaderboard before the countdown runs out!',\n        prizeEnoughPoints: 'Reach <strong>{num}</strong>p before the countdown runs out!'\n      },\n      leaderboard: {\n        title: 'Leaderboard',\n        loading: 'Loading top scores',\n        wait: 'Please wait...',\n        updating: 'Updating Live',\n        info: 'Play again in order to get ranked on the new leaderboard.',\n        empty: 'No one played in this round.'\n      }\n    }\n  },\n  it: {\n    ...require('@stagecast/activation-components/lib/locale/it').default,\n    help: {\n      howto: [\n        'Premi velocemente sulle immagini per guadagnare punti.',\n        'Per ogni immagine premuta il tuo moltiplicatore punti incrementerà di +1.',\n        'Il moltiplicatore si azzera ogni volta che premi su un cerchio senza immagine.',\n        'Le immagini con un cerchio dorato possono essere cliccate più volte consecutivamente ed  di tre volte il punteggio di ogni click.'\n      ]\n    },\n    intro: {\n      title: 'Clicca le immagini',\n      subtitle: 'Più immagini premi di seguito, più punti ottieni.',\n      placeholder: 'Inserisci il tuo nome...',\n      button: 'Gioca',\n      info: 'lettere rimaste'\n    },\n    game: {\n      click: \"Clicca le immagini veloce!\",\n      score: 'Punteggio'\n    },\n    end: {\n      round: 'Round',\n      header: {\n        last: 'Punti',\n        best: 'Migliore',\n        rank: 'Posizione',\n        prizeButton: 'Vai al Premio',\n        playButton: 'Gioca Ancora'\n      },\n      countdown: {\n        title: 'Countdown',\n        noprize: 'Scala la classifica fino alla vetta prima che finisca il tempo!',\n        prizeTopRanking: 'Scala la classifica fino alla <strong>posizione {num}</strong> prima che il tempo finisca!',\n        prizeEnoughPoints: 'Raggiungi <strong>{num}</strong>p prima che il tempo finisca!'\n      },\n      leaderboard: {\n        title: 'Classifica',\n        loading: 'Caricamento dei risultati...',\n        wait: 'Attendere...',\n        updating: 'In tempo reale',\n        info: 'Partecipa di nuovo al quiz per assicurarti un posto nella classifica.',\n        empty: 'Nessuno ha partecipato in questo round.'\n      }\n    }\n  },\n  sv: {\n    ...require('@stagecast/activation-components/lib/locale/sv').default,\n    help: {\n      howto: [\n        'Klicka på bilder för att få poäng och öka din multiplicerare med 1 varje gång du tar en bild i en rad',\n        'Missar du en bild så nollställs din multiplicerare.',\n        'Gyllene bilder kan bli klickade på flera gånger och du får tre gånger mer poäng per klick.'\n      ]\n    },\n    intro: {\n      title: 'Klicka på bilderna',\n      subtitle: 'Ju fler bilder du klickar i en rad, desto mer poäng får du.',\n      placeholder: 'Skriv ditt namn...',\n      button: 'Starta spelet',\n      info: 'tecken kvar'\n    },\n    game: {\n      click: \"Klicka på bilderna snabbt!\",\n      score: 'Dina Poäng'\n    },\n    end: {\n      round: 'Omgång ',\n      header: {\n        last: 'Senaste Resultat',\n        best: 'Bästa Resultat',\n        rank: 'Din Ranking',\n        prizeButton: 'Din Vinst',\n        playButton: 'Börja Om'\n      },\n      countdown: {\n        title: 'Countdown',\n        noprize: 'Klättra till toppen av listan innan nedräkningen är över!',\n        prizeTopRanking: 'Klättra till <strong>topp {num}</strong> på listan innan nedräkningen är över!',\n        prizeEnoughPoints: 'Samla <strong>{num}</strong>p innan nedräkningen är över!'\n      },\n      leaderboard: {\n        title: 'Topplista',\n        loading: 'Laddar högsta poängen',\n        wait: 'Vänta...',\n        updating: 'Uppdateras automatiskt',\n        info: 'Spela igen för att ta dig in på resultattavlan',\n        empty: 'Ingen har spelat denna runda.'\n      }\n    }\n  },\n  de: {\n    ...require('@stagecast/activation-components/lib/locale/de').default,\n    help: {\n      howto: [\n        'Klicke auf die Bilder, um Punkte zu erhalten. Wenn du mehrere Bilder hintereinander anklickst erhöht dies deinen Multiplier um +1.',\n        'Wenn du daneben klickst, wird dein Multiplier zurückgesetzt.',\n        'Goldene Bilder können mehrmals angeklickt werden und du erhältst 3x mehr Punkte pro Klick.'\n      ]\n    },\n    intro: {\n      title: 'Klicke auf die Bilder',\n      subtitle: 'Je mehr Bilder du hintereinander anklickst, desto mehr Punkte erhältst du.',\n      placeholder: 'Dein Name',\n      button: 'Spielen',\n      info: 'Zeichen'\n    },\n    game: {\n      click: \"Klicke schnell auf die Bilder!\",\n      score: 'Punktzahl'\n    },\n    end: {\n      round: 'Runde',\n      header: {\n        last: 'Letzte Punktzahl',\n        best: 'Beste Punktzahl',\n        rank: 'Deine Platzierung',\n        prizeButton: 'Dein Preis',\n        playButton: 'Nochmal spielen'\n      },\n      countdown: {\n        title: 'Countdown',\n        noprize: 'Erreiche die Spitze der Rangliste bevor der Countdown endet.',\n        prizeTopRanking: 'Erreiche die <strong>Top {num}</strong> der Rangliste bevor der Countdown endet.',\n        prizeEnoughPoints: 'Erziele mindestens <strong>{num}</strong>p bevor der Countdown endet.'\n      },\n      leaderboard: {\n        title: 'Bestenliste',\n        loading: 'Lade Top-Platzierungen',\n        wait: 'Bitte warten...',\n        updating: 'Ergebnisse werden aktualisiert',\n        info: 'Spiel nochmal, damit du auf der neuen Rangliste erscheinst.',\n        empty: 'In dieser Runde hat niemand teilgenommen.'\n      }\n    }\n  },\n  da: {\n    ...require('@stagecast/activation-components/lib/locale/da').default,\n    help: {\n      howto: [\n        'Klik på billederne for at optjene point og øge din multiplikator med +1 hver gang du rammer et billede i træk.',\n        'Manglende billede nulstiller din multiplikator.',\n        'Gyldne billeder kan du klikke på flere gange, og du tjener 3x flere point pr. Klik.'\n      ]\n    },\n    intro: {\n      title: 'Klik på billederne',\n      subtitle: 'Jo flere billeder du klikker i træk, jo flere point optjener du.',\n      placeholder: 'Indtast dit navn ...',\n      button: 'Start Spil',\n      info: 'tegn tilbage'\n    },\n    game: {\n      click: \"Klik på billederne hurtigt!\",\n      score: 'Din Score'\n    },\n    end: {\n      round: 'Rund',\n      header: {\n        last: 'Seneste Score',\n        best: 'Bedste Score',\n        rank: 'Din Rang',\n        prizeButton: 'Din Præmie',\n        playButton: 'Spil Igen'\n      },\n      countdown: {\n        title: 'Countdown',\n        noprize: 'Klatre til toppen af ​​leaderboardet, før nedtællingen løber ud!',\n        prizeTopRanking: 'Klatre til <strong>top {num}</strong> på leaderboardet, før nedtællingen løber ud!',\n        prizeEnoughPoints: 'Nå <strong>{num}</strong>p inden nedtællingen løber ud!'\n      },\n      leaderboard: {\n        title: 'Leaderboard',\n        loading: 'Indlæser topscorer',\n        wait: 'Vent venligst...',\n        updating: 'Opdatering Live',\n        info: 'Spil igen for at blive rangeret på det nye leaderboard.',\n        empty: 'Ingen spillede i denne runde.'\n      }\n    }\n  },\n  ru: {\n    ...require('@stagecast/activation-components/lib/locale/ru').default,\n    help: {\n      howto: [\n        'Нажимайте на изображения, чтобы зарабатывать очки и увеличивать множитель на +1 каждый раз, когда вы нажимаете изображение подряд.',\n        'Отсутствие изображения приведет к сбросу множителя.',\n        'Золотые изображения можно щелкнуть несколько раз, и вы зарабатываете в 3 раза больше очков за каждый щелчок.'\n      ]\n    },\n    intro: {\n      title: 'Щелкните изображения',\n      subtitle: 'Чем больше изображений вы нажмете подряд, тем больше очков вы заработаете.',\n      placeholder: 'Введите ваше имя...',\n      button: 'начать игру',\n      info: 'осталось символов'\n    },\n    game: {\n      click: \"Быстро нажимайте на изображения!\",\n      score: 'твой счет'\n    },\n    end: {\n      round: 'круглый',\n      header: {\n        last: 'Последний счет',\n        best: 'Лучший результат',\n        rank: 'Ваше звание',\n        prizeButton: 'Ваш приз',\n        playButton: 'Играть снова'\n      },\n      countdown: {\n        title: 'Обратный отсчет',\n        noprize: 'Поднимитесь на вершину таблицы лидеров, пока не закончился обратный отсчет!',\n        prizeTopRanking: 'Climb to the <strong>top {num}</strong> of the leaderboard before the countdown runs out!',\n        prizeEnoughPoints: 'Достигните <strong> {num} </strong> p до окончания обратного отсчета!'\n      },\n      leaderboard: {\n        title: 'Таблица лидеров',\n        loading: 'Загрузка рекордов',\n        wait: 'Подождите пожалуйста...',\n        updating: 'обновление в прямом эфире',\n        info: 'Играйте снова, чтобы попасть в новую таблицу лидеров.',\n        empty: 'В этом туре никто не играл.'\n      }\n    }\n  },\n  es: {\n    ...require('@stagecast/activation-components/lib/locale/es').default,\n    help: {\n      howto: [\n        'Haz clic en las imágenes para ganar puntos y aumentar tu multiplicador en +1 cada vez que golpeas una imagen seguida.',\n        'La falta de una imagen restablecerá su multiplicador.',\n        'Se puede hacer clic en las imágenes doradas varias veces y gana 3x puntos más por cada clic.'\n      ]\n    },\n    intro: {\n      title: 'Haga clic en las imágenes',\n      subtitle: 'Cuantas más imágenes haga clic seguidas, más puntos ganará.',\n      placeholder: 'Type your name...',\n      button: 'Empezar juego',\n      info: 'caracteres restantes'\n    },\n    game: {\n      click: \"¡Haz clic en las imágenes rápido!\",\n      score: 'Tu puntuación'\n    },\n    end: {\n      round: 'Ronda',\n      header: {\n        last: 'Última puntuación',\n        best: 'Mejor puntuación',\n        rank: 'Mejor puntuación',\n        prizeButton: 'Tu premio',\n        playButton: 'Juega de nuevo'\n      },\n      countdown: {\n        title: 'cuenta regresiva',\n        noprize: '¡Sube a lo más alto de la clasificación antes de que se acabe la cuenta atrás!',\n        prizeTopRanking: '¡Sube al <strong>top {num}</strong> de la clasificación antes de que se acabe la cuenta atrás!',\n        prizeEnoughPoints: '¡Llega a <strong>{num}</strong>p antes de que acabe la cuenta atrás!'\n      },\n      leaderboard: {\n        title: 'Marcador',\n        loading: 'Cargando puntuaciones máximas',\n        wait: 'Espere por favor...',\n        updating: 'Actualizando en vivo',\n        info: 'Juega de nuevo para clasificarte en la nueva clasificación.',\n        empty: 'Nadie jugó en esta ronda.'\n      }\n    }\n  },\n  fr: {\n    ...require('@stagecast/activation-components/lib/locale/fr').default,\n    help: {\n      howto: [\n        'Cliquez sur les images pour gagner des points et augmentez votre multiplicateur de +1 chaque fois que vous touchez une image à la suite.',\n        'Manquer une image réinitialisera votre multiplicateur.',\n        'Les images dorées peuvent être cliquées plusieurs fois et vous gagnez 3x points supplémentaires par clic.'\n      ]\n    },\n    intro: {\n      title: 'Cliquez sur les Images',\n      subtitle: 'Plus vous cliquez sur des images à la suite, plus vous gagnez de points.',\n      placeholder: 'Tapez votre nom...',\n      button: 'Démarrer jeu',\n      info: 'caractères restants'\n    },\n    game: {\n      click: \"Cliquez vite sur les images !\",\n      score: 'Ton score'\n    },\n    end: {\n      round: 'Tour',\n      header: {\n        last: 'Dernière note',\n        best: 'Meilleur score',\n        rank: 'Ton rang',\n        prizeButton: 'Votre prix',\n        playButton: 'Rejouer'\n      },\n      countdown: {\n        title: 'Compte à rebours',\n        noprize: 'Montez au sommet du classement avant la fin du compte à rebours !',\n        prizeTopRanking: 'Montez dans le <strong>top {num}</strong> du classement avant la fin du compte à rebours!',\n        prizeEnoughPoints: 'Atteignez <strong>{num}</strong>p avant la fin du compte à rebours!'\n      },\n      leaderboard: {\n        title: 'Classement',\n        loading: 'Chargement des meilleurs scores',\n        wait: 'S’il vous plaît, attendez...',\n        updating: 'Mise à jour en direct',\n        info: 'Rejouez pour être classé dans le nouveau classement.',\n        empty: 'Personne n’a joué dans ce tour.'\n      }\n    }\n  }\n}\n\nconst i18n = new VueI18n({\n  locale: 'en',\n  fallbackLocale: 'en',\n  messages\n})\n\nexport default i18n\n","import Vue from 'vue'\nimport App from './App.vue'\nimport i18n from './i18n'\nimport StagecastComponents from '@stagecast/activation-components'\nimport '@stagecast/activation-components/lib/activation-components.css'\n\nVue.config.productionTip = false\n\nVue.use(StagecastComponents, {\n  i18n: (key, value = {}) => i18n.t(key, value)\n})\n\nif (window.Stagecast) {\n  Vue.prototype.$SDK = new window.Stagecast()\n\n  window.vm = new Vue({\n    i18n,\n    render: h => h(App)\n  }).$mount('#app')\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeaderboardRowRenderer.vue?vue&type=style&index=0&id=7e287bee&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeaderboardRowRenderer.vue?vue&type=style&index=0&id=7e287bee&scoped=true&lang=scss&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/empty.91340e49.svg\";","module.exports = __webpack_public_path__ + \"img/empty-friend.9a3e4a63.svg\";","module.exports = __webpack_public_path__ + \"img/empty.29ff0693.svg\";","module.exports = __webpack_public_path__ + \"img/empty-friend.844cb0e8.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntroPage.vue?vue&type=style&index=0&id=33e5cfde&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntroPage.vue?vue&type=style&index=0&id=33e5cfde&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameBox.vue?vue&type=style&index=0&id=b9c8a6ca&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameBox.vue?vue&type=style&index=0&id=b9c8a6ca&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalLeaderboard.vue?vue&type=style&index=0&id=647edd87&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalLeaderboard.vue?vue&type=style&index=0&id=647edd87&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GamePage.vue?vue&type=style&index=0&id=26923ec8&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GamePage.vue?vue&type=style&index=0&id=26923ec8&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntroBox.vue?vue&type=style&index=0&id=60e6b2d6&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntroBox.vue?vue&type=style&index=0&id=60e6b2d6&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Paginator.vue?vue&type=style&index=0&id=1ec98396&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Paginator.vue?vue&type=style&index=0&id=1ec98396&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SummaryPage.vue?vue&type=style&index=0&id=b5b54730&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SummaryPage.vue?vue&type=style&index=0&id=b5b54730&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/preloader.fc7321a1.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeaderboardRenderer.vue?vue&type=style&index=0&id=bf316218&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeaderboardRenderer.vue?vue&type=style&index=0&id=bf316218&scoped=true&lang=scss&\""],"sourceRoot":""}